<ProjectConfig>
  <Project name="mag_zone_dynamic" location="C:/DTALite/New_PHXsubarea/" seed="0" iteration="3" subsample="40000"/>
  <DTAConnection value="True"/>
  <DBConfig dbprotocol="postgres" dbhost="localhost" dbname="mag_subzone_dtalite_test" dbusername="postgres" dbpassword="Dyou65221"/>
  
  <NetworkSkims>
    <Period tablename="network_skims_0" origin_var="origin" destination_var="destination" intervalStart="0" intervalEnd="59">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite0.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_1" origin_var="origin" destination_var="destination" intervalStart="60" intervalEnd="119">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite1.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_2" origin_var="origin" destination_var="destination" intervalStart="120" intervalEnd="179">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite2.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_3" origin_var="origin" destination_var="destination" intervalStart="180" intervalEnd="239">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite3.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_4" origin_var="origin" destination_var="destination" intervalStart="240" intervalEnd="299">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite4.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_5" origin_var="origin" destination_var="destination" intervalStart="300" intervalEnd="359">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite5.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_6" origin_var="origin" destination_var="destination" intervalStart="360" intervalEnd="419">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite6.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_7" origin_var="origin" destination_var="destination" intervalStart="420" intervalEnd="479">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite7.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_8" origin_var="origin" destination_var="destination" intervalStart="480" intervalEnd="539">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite8.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_9" origin_var="origin" destination_var="destination" intervalStart="540" intervalEnd="599">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite9.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_10" origin_var="origin" destination_var="destination" intervalStart="600" intervalEnd="659">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite10.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_11" origin_var="origin" destination_var="destination" intervalStart="660" intervalEnd="719">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_12" origin_var="origin" destination_var="destination" intervalStart="720" intervalEnd="779">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_13" origin_var="origin" destination_var="destination" intervalStart="780" intervalEnd="839">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_14" origin_var="origin" destination_var="destination" intervalStart="840" intervalEnd="899">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_15" origin_var="origin" destination_var="destination" intervalStart="900" intervalEnd="959">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_16" origin_var="origin" destination_var="destination" intervalStart="960" intervalEnd="1019">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_17" origin_var="origin" destination_var="destination" intervalStart="1020" intervalEnd="1079">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_18" origin_var="origin" destination_var="destination" intervalStart="1080" intervalEnd="1139">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_19" origin_var="origin" destination_var="destination" intervalStart="1140" intervalEnd="1199">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_20" origin_var="origin" destination_var="destination" intervalStart="1200" intervalEnd="1259">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_21" origin_var="origin" destination_var="destination" intervalStart="1260" intervalEnd="1319">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_22" origin_var="origin" destination_var="destination" intervalStart="1320" intervalEnd="1379">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
    <Period tablename="network_skims_23" origin_var="origin" destination_var="destination" intervalStart="1380" intervalEnd="1500">
      <Time skim_var="tt" fileLocation="C:/DTALite/New_PHXsubarea/output_skim_dtalite.csv" delimiter=","/>
      <Distance skim_var="dist" fileLocation="C:/DTALite/New_PHXsubarea/distance0.dat" delimiter=","/>
    </Period>
  </NetworkSkims>

  <Locations reference_tablename="locations" tablename="locations" location_var="locationid" indb="True">
	  <LocationVariable var="retail_employment"/>
	  <LocationVariable var="office_employment"/>
	  <LocationVariable var="public_employment"/>
	  <LocationVariable var="industrial_employment"/>
	  <LocationVariable var="other_employment"/>

	  <LocationVariable var="retail_employment_density"/>
	  <LocationVariable var="office_employment_density"/>
	  <LocationVariable var="public_employment_density"/>
	  <LocationVariable var="other_employment_density"/>

	  <LocationVariable var="total_area"/>

	  <LocationVariable var="low_income"/>
	  <LocationVariable var="lowest_income"/>
	  <LocationVariable var="high_income"/>

	  <LocationVariable var="institutional_population"/>

	  <LocationVariable var="groupquarter_households"/>
	  <LocationVariable var="residential_households"/>
  </Locations>


  <ModelConfig>

    <Component name="ArrivalTimeInformation" read_from_table="trips_arrival_from_dta_r" key="tripid" skip="False" completed="True">
      <DBTables>
    	<Table table="trips_arrival_from_dta_r" key="tripid"/>
      </DBTables>

      <Model name="ArrivalTime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="arrivaltime"/>
	<Variance value="0"/>
        <Variable table="runtime" var="arrivaltime" coeff="1"/>
      </Model>


   </Component>

    <Component name="PersonsArrived" read_from_table="trips_arrival_from_dta_r" write_to_table="persons_arrived_r" key="tripid" skip="False" completed="True">
      <DBTables>
	<Table table="trips_to_dta_r" key="tripid"/>
	<Table table="trips_r" key="tripid"/>
    	<Table table="trips_arrival_from_dta_r" key="tripid" order="1"/>
    	<Table table="persons_arrived_r" key="tripid"/>
    	<Table table="persons" key="houseid,personid"/>

      </DBTables>

      <DeleteBasedOn table="trips_to_dta_r" var="tripid"/>

      <PreProcessData name="PreProcessData">
	<Filter table="trips_r" var="houseid" condition="equals" value="0"/>
      </PreProcessData>

      <AnalysisIntervalFilter table="trips_arrival_from_dta_r" var="arrivaltime"/>

      <Model name="Houseid" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="houseid"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="houseid" coeff="1"/>
      </Model>

      <Model name="Personid" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="personid"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="personid" coeff="1"/>
      </Model>

      <Model name="ActualStartTime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="expectedstarttime"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="starttime" coeff="1"/>
      </Model>

      <Model name="ExpectedArrivalTime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="expectedarrivaltime"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="endtime" coeff="1"/>
      </Model>

      <Model name="FromZone" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="fromzonedummy"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="fromzone" coeff="1"/>
      </Model>
      <Model name="ToZone" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tozonedummy"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="tozone" coeff="1"/>
      </Model>

      <Model name="triptype" formulation="Persons On Trip Arrival Processing" seed="1">
	<DependentVariable var="triptype"/>

	<Id>
	  <HouseId table="trips_r" var="houseid"/>
	  <PersonId table="trips_r" var="personid"/>
	</Id>

	<PersonsArrivedAttributes>
	  <TripDependentPersonIdName table="trips_r" var="dependentpersonid"/>
	  <EndTripCountName table="trips_r" var="endtripcount"/>
	  <TripCountName table="trips_r" var="tripcount"/>
	  <ActDependentPersonIdName table="trips_r" var="enddependentpersonid"/>
	</PersonsArrivedAttributes>

      </Model>

      <Model name="TripCount" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripcount"/>
	<Variance value="0"/>
        <Variable1 table="trips_r" var="endtripcount" coeff="1"/>
        <Variable table="trips_r" var="tripcount" coeff="1"/>
      </Model>


      <Model name="TripDependentPersonId" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripdependentpersonid"/>
	<Filter table="runtime" var="houseid" condition="greater than" value="0"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="dependentpersonid" coeff="1"/>
      </Model>


      <Model name="ActualArrivalTime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="actualarrivaltime"/>
	<Filter table="runtime" var="houseid" condition="greater than" value="0"/>
	<Variance value="0"/>
        <Variable table="trips_arrival_from_dta_r" var="arrivaltime" coeff="1"/>
      </Model>


   </Component>

    <Component name="PersonsArrivedId" read_from_table="persons_arrived_r" write_to_table="persons_arrived_id_r" skip="False" completed="True">
      <DBTables>
    	<Table table="persons_arrived_r" key="houseid,personid" order="1"/>
    	<Table table="persons_arrived_id_r" key="houseid,personid"/>
    	<Table table="persons" key="houseid,personid"/>
      </DBTables>

      <AnalysisIntervalFilter table="persons_arrived_r" var="actualarrivaltime"/>

      <Model name="Houseid" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="houseid"/>
	<Variance value="0"/>
        <Variable table="persons_arrived_r" var="houseid" coeff="1"/>
      </Model>

      <Model name="Personid" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="personid"/>
	<Variance value="0"/>
        <Variable table="persons_arrived_r" var="personid" coeff="1"/>
      </Model>

      <Model name="ActualArrivalTime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="expectedarrivaltime"/>
	<Variance value="0"/>
        <Variable table="persons_arrived_r" var="expectedarrivaltime" coeff="1"/>
      </Model>


      <Model name="ActualArrivalTime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="actualarrivaltime"/>
	<Variance value="0"/>
        <Variable table="persons_arrived_r" var="actualarrivaltime" coeff="1"/>
      </Model>

      <Model name="ToZone" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tozonedummy"/>
	<Variance value="0"/>
        <Variable table="persons_arrived_r" var="tozone" coeff="1"/>
      </Model>

      <Model name="TripCount" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripcount"/>
	<Variance value="0"/>
        <Variable table="persons_arrived_r" var="tripcount" coeff="1"/>
      </Model>

      <Model name="PersonUniqueId" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="personuniqueiddummy"/>
	<Variance value="0"/>
        <Variable table="persons" var="personuniqueid" coeff="1"/>
      </Model>

      <Model name="TripDependentPersonId" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripdependentpersonid"/>
	<Filter table="runtime" var="houseid" condition="greater than" value="0"/>
	<Variance value="0"/>
        <Variable table="persons_arrived_r" var="tripdependentpersonid" coeff="1"/>
      </Model>


   </Component>

    <Component name="PersonsLocation" read_from_table="persons_location_r" write_to_table="persons_location_r" skip="False" completed="True">
      <DBTables>
    	<Table table="persons_location_r" key="houseid,personid"/>
    	<Table table="persons_arrived_id_r" key="houseid,personid" order="1"/>
      </DBTables>

      <DeleteBasedOn table="persons_location_r" var="personuniqueid"/>

      <Model name="location" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="location"/>
	<Variance value="0"/>
        <Variable table="persons_arrived_id_r" var="tozone" coeff="1"/>
      </Model>

      <Model name="PersonUniqueIdDummy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="personuniqueiddummy"/>
	<Variance value="0"/>
        <Variable table="persons_arrived_id_r" var="personuniqueid" coeff="1"/>
      </Model>

      <Model name="lastrripcountdummy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="lasttripcountdummy"/>
	<Variance value="0"/>
        <Variable table="persons_location_r" var="lasttripcount" coeff="1"/>
      </Model>

      <Model name="lastrripcount" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="lasttripcount"/>
	<Filter table="persons_arrived_id_r" var="tripcount" condition="greater than equals" value="0"/>
	<Variance value="0"/>
        <Variable table="persons_arrived_id_r" var="tripcount" coeff="1"/>
      </Model>

      <Model name="PersonUniqueIdDummy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="personuniqueiddummy"/>
	<Variance value="0"/>
        <Variable table="persons_arrived_id_r" var="personuniqueid" coeff="1"/>
      </Model>


   </Component>


    <Component1 name="HouseholdIdsForPersonsArrived" read_from_table="persons_arrived_r" write_to_table="households_arrived_id_r" skip="False" completed="True">
      <DBTables>
    	<Table table="persons_arrived_r" key="houseid,personid" order="1"/>
    	<Table table="households_arrived_id_r" key="houseid"/>
      </DBTables>

      <AnalysisIntervalFilter table="persons_arrived_r" var="actualarrivaltime"/>

      <Model name="Houseid" formulation="Identify Unique" seed="1">
	<DependentVariable var="houseid"/>
        <Variable table="persons_arrived_r" var="houseid" coeff="1"/>
      </Model>

      <Model name="ActualArrivalTime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="actualarrivaltime"/>
	<Filter table="runtime" var="houseid" condition="greater than" value="0"/>
	<Variance value="0"/>
        <Variable table="persons_arrived_r" var="actualarrivaltime" coeff="1"/>
      </Model>


   </Component1>



    <Component name="ArrivalTimeProcessing" read_from_table="schedule_final_r" key="houseid,personid" location="True" delete_and_append="True" skip="False" completed="True">
      <DBTables>
    	<Table table="schedule_final_r" key="houseid,personid" order="1"/>
    	<Table table="persons_arrived_id_r" key="houseid,personid"/>
    	<Table table="households_arrived_id_r" key="houseid"/>
    	<Table table="persons_r" key="houseid,personid"/>
      </DBTables>

      <AnalysisIntervalFilter table="persons_arrived_id_r" var="actualarrivaltime"/>
	
      <DeleteBasedOn table="schedule_final_r" var="scheduleid"/>


      <Model name="ArrivalInformationProcessing" formulation="Schedule Adjustment" seed="1">
	<DependentVariable var="childdependencyallocation"/>

	<ActivityAttributes>
	  <HouseholdIdName table="schedule_final_r" var="houseid"/>
	  <PersonIdName table="schedule_final_r" var="personid"/>
	  <ScheduleIdName table="schedule_final_r" var="scheduleid"/>
	  <ActivityTypeName table="schedule_final_r" var="activitytype"/>
	  <LocationIdName table="schedule_final_r" var="locationid"/>
	  <StartTimeName table="schedule_final_r" var="starttime"/>
	  <EndTimeName table="schedule_final_r" var="endtime"/>
	  <DurationName table="schedule_final_r" var="duration"/>
	  <DependentPersonName table="schedule_final_r" var="dependentpersonid"/>
	  <TripCountName table="schedule_final_r" var="tripcount"/>
	</ActivityAttributes>

	<DailyStatus>
	  <DailySchoolStatus table="persons_r" var="schdailystatus"/>
	  <DailyWorkStatus table="persons_r" var="wrkdailystatus"/>
	</DailyStatus>
	
	<Dependency>
	  <ChildDependency table="persons_r" var="dependency"/>
	</Dependency>
	
	<ArrivalTime>
	  <DependentPersonId table="persons_arrived_id_r" var="tripdependentpersonid"/>
	  <Actual table="persons_arrived_id_r" var="actualarrivaltime"/>
	  <Expected table="persons_arrived_id_r" var="expectedarrivaltime"/>
	</ArrivalTime>


      </Model>

    </Component>

      <Component name="MoveEpisodesElapsed" read_from_table="schedule_final_r" write_to_table="schedule_elapsed_r" skip="False" completed="True">
        <DBTables>
    	  <Table table="persons_arrived_id_r" key="houseid,personid" order="1"/>
    	  <Table table="schedule_final_r" key="houseid,personid" />
    	  <Table table="schedule_elapsed_r" key="houseid,personid" />
        </DBTables>
        <DeleteBasedOn table="schedule_final_r" var="scheduleid"/>

        <AnalysisIntervalFilter table="schedule_final_r" var="endtime" condition="less than"/>

        <Model name="dummy" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="dummy"/>
	  <Filter table="persons_arrived_id_r" var="houseid" condition="greater than equals" value="1"/>
	  <Variance value="0"/>
          <Variable table="schedule_final_r" var="scheduleid" coeff="1"/>
          <Variable table="schedule_final_r" var="houseid" coeff="1"/>
          <Variable table="schedule_final_r" var="personid" coeff="1"/>
          <Variable table="schedule_final_r" var="activitytype" coeff="1"/>
          <Variable table="schedule_final_r" var="locationid" coeff="1"/>
          <Variable table="schedule_final_r" var="starttime" coeff="1"/>
          <Variable table="schedule_final_r" var="endtime" coeff="1"/>
          <Variable table="schedule_final_r" var="duration" coeff="1"/>
          <Variable table="schedule_final_r" var="dependentpersonid" coeff="1"/>
          <Variable table="schedule_final_r" var="tripcount" coeff="1"/>
        </Model>

      </Component>


    <Component name="DeletePersonIdsForPersonsArrived" read_from_table="persons_arrived_id_r" skip="False" completed="True">
      <DBTables>
    	<Table table="persons_arrived_id_r" key="houseid" order="1"/>
      </DBTables>

      <DeleteBasedOn table="persons_arrived_id_r" var="houseid"/>

      <Model name="DummyHouseholdId" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="dummy"/>
	<Filter table="persons_arrived_id_r" var="houseid" condition="equals" value="-1"/>
	<Variance value="0"/>
        <Variable table="persons_arrived_id_r" var="houseid" coeff="1"/>
      </Model>


   </Component>


    <Component1 name="DeleteHouseholdIdsForPersonsArrived" read_from_table="households_arrived_id_r" skip="False" completed="True">
      <DBTables>
    	<Table table="households_arrived_id_r" key="houseid" order="1"/>
      </DBTables>

      <DeleteBasedOn table="households_arrived_id_r" var="houseid"/>

      <Model name="DummyHouseholdId" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="dummy"/>
	<Filter table="households_arrived_id_r" var="houseid" condition="equals" value="-1"/>
	<Variance value="0"/>
        <Variable table="households_arrived_id_r" var="houseid" coeff="1"/>
      </Model>


   </Component1>

    <Component name="PersonsHistory" read_from_table="schedule_final_r" write_to_table="persons_history_r" key="houseid,personid" location="True" skip="False" completed="True">
      <DBTables>
    	<Table table="schedule_final_r" key="houseid,personid" order="1"/>
    	<Table table="persons_history_r" key="houseid,personid"/>
    	<Table table="persons_r" key="houseid,personid"/>
      </DBTables>
      <AnalysisIntervalFilter table="schedule_final_r" var="endtime"/>
      <DeleteBasedOn table="persons_history_r" var="personuniqueid"/>

      <PreProcessData name="PreProcessData">
	<Filter table="persons_r" var="dependency" condition="equals" value="1"/>
      </PreProcessData>


      <Model name="IHHistory" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="ih_history"/>
        <FilterSet type="and"/>
	<Filter table="schedule_final_r" var="activitytype" condition="greater than equals" value="100"/>
	<Filter table="schedule_final_r" var="activitytype" condition="less than" value="199"/>
	<Variance value="0"/>
        <Variable table="schedule_final_r" var="duration" coeff="1"/>
        <Variable table="persons_history_r" var="ih_history" coeff="1"/>
      </Model>

      <Model name="MaintenanceHistory" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="maintenance_history"/>
        <FilterSet type="and"/>
	<Filter table="schedule_final_r" var="activitytype" condition="greater than equals" value="400"/>
	<Filter table="schedule_final_r" var="activitytype" condition="less than" value="499"/>
	<Variance value="0"/>
        <Variable table="schedule_final_r" var="duration" coeff="1"/>
        <Variable table="persons_history_r" var="maintenance_history" coeff="1"/>
      </Model>

      <Model name="DiscretionaryHistory" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="discretionary_history"/>
        <FilterSet type="and"/>
	<Filter table="schedule_final_r" var="activitytype" condition="greater than equals" value="500"/>
	<Filter table="schedule_final_r" var="activitytype" condition="less than" value="598"/>
	<Variance value="0"/>
        <Variable table="schedule_final_r" var="duration" coeff="1"/>
        <Variable table="persons_history_r" var="discretionary_history" coeff="1"/>
      </Model>

      <Model name="FixedHistory" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="fixed_history"/>
        <FilterSet type="and"/>
	<Filter table="schedule_final_r" var="activitytype" condition="greater than equals" value="200"/>
	<Filter table="schedule_final_r" var="activitytype" condition="less than" value="400"/>
	<Variance value="0"/>
        <Variable table="schedule_final_r" var="duration" coeff="1"/>
        <Variable table="persons_history_r" var="fixed_history" coeff="1"/>
      </Model>

      <Model name="PersonUniqueIdDumy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="personuniqueiddummy"/>
	<Variance value="0"/>
        <Variable table="persons_history_r" var="personuniqueid" coeff="1"/>

      </Model>


   </Component>




    <Component name="DynamicNonMandatoryActivities" read_from_table="schedule_final_r" key="houseid,personid" location="True" skip="False" completed="True">
	
	  <LoopComponent start="0" end="2" step="1"/>
	
      <DBTables>
    	<Table table="persons" key="houseid,personid" order="1"/>
    	<Table table="households" key="houseid" order="2"/>
    	<Table table="households_vehicles_count_r" key="houseid"/>
    	<Table table="workers_r" key="houseid,personid"/>		
    	<Table table="schedule_final_r" key="houseid,personid"/>
    	<Table table="persons_r" key="houseid,personid"/>
		<Table table="trips_to_dta_r" key="houseid,personid"/>
    	<Table table="persons_history_r" key="houseid,personid"/>
      </DBTables>

      <SpatialConstraints table="travel_skims" sample_var="destination" skim_var="tt" as_var="tt_to" dist_var="dist" origin_var="origin" destination_var="destination" count="5" seed="1" threshold="120">
        <ActivityFilter table="locations" var="retail_employment_ind" condition="equals" value="1"/>
	<Start table="schedule_final_r" var="locationid" time_var="endtime"/>
	<End table="schedule_final_r" var="locationid" time_var="starttime"/>
	<ValueofTimePerDistance table="persons_r" var="valueoftimeperdist"/>

	<ExtractLocationInformation table="locations" location_var="locationid">
	  <LocationVariable var="retail_employment"/>
	  <LocationVariable var="office_employment"/>

	  <LocationVariable var="retail_employment_density"/>
	  <LocationVariable var="office_employment_density"/>
	  <LocationVariable var="public_employment_density"/>
	  <LocationVariable var="other_employment_density"/>

	  <LocationVariable var="total_area"/>

	  <LocationVariable var="low_income"/>
	  <LocationVariable var="lowest_income"/>
	  <LocationVariable var="high_income"/>
 
	  <LocationVariable var="institutional_population"/>

	  <LocationVariable var="groupquarter_households"/>
	  <LocationVariable var="residential_households"/>

          <FilterSet type="or"/>
	  <Filter table="runtime" var="retail_employment" condition="greater than" value="0"/>
	  <Filter table="runtime" var="public_employment" condition="greater than" value="0"/>
	  <Filter table="runtime" var="office_employment" condition="greater than" value="0"/>
	  <Filter table="runtime" var="industrial_employment" condition="greater than" value="0"/>
	  <Filter table="runtime" var="other_employment" condition="greater than" value="0"/>

	</ExtractLocationInformation>
      </SpatialConstraints>

      <PreProcessData name="PreProcessData">
		<Filter table="persons_r" var="informationtype" condition="equals" value="0"/>
		<Filter table="persons_r" var="dependency" condition="equals" value="1"/>
		<Filter table="trips_to_dta_r" var="persononnetworkflag" condition="equals" value="1"/>
      </PreProcessData>

      <ConsistencyChecks name="DynamicNonMandatoryChecks">
	<Filter table="runtime" var="locationid" condition="greater than" value="0"/>
	<Filter table="runtime" var="prismduration" condition="greater than" value="15"/>
	<Filter table="runtime" var="endtime" condition="less than" valuetable="runtime" valuevar="en_starttime" percentage_threshold="" absolute_threshold=""/>
	<Filter table="runtime" var="activitytravelend" condition="less than" valuetable="runtime" valuevar="en_starttime"/>
      </ConsistencyChecks>

      <Model name="TODInd5t7a" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int5t7a"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="60"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="179"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd5to10a" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int5t10a"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="60"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="359"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd5to11a" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int5t11a"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="60"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="419"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd6t9a" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int6t9a"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="120"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="299"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd7t9a" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int7t9a"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="180"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="299"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd7t11a" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int7t11a"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="180"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="419"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd8t11a" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int8t11a"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="240"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="419"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd9t11a" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int9t11a"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="300"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="419"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd11t1p" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int11t1p"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="420"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="539"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd11t2p" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int11t2p"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="420"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="599"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd1t3p" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int1t3p"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="540"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="659"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd1t4p" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int1t4p"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="540"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="719"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd2t4p" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int2t4p"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="600"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="719"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd2t5p" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int2t5p"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="600"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="779"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd3t5p" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int3t5p"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="660"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="779"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd4t7p" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int4t7p"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="720"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="899"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd5t7p" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int5t7p"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="780"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="899"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd6t9p" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int6t9p"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="840"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="1019"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODInd7t9p" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="int7t9p"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="900"/>
	<Filter table="runtime" var="st_endtime" condition="less than equals" value="1019"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="TODIndaft7p" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="intaft7"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="st_endtime" condition="greater than equals" value="900"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>




      <Model name="DynamicNonMandatoryActivityTypeAdltWorkerNoSchool" formulation="Multinomial Logit" type="Alternative Specific" seed="1">
	<!-- Model Updated-->
        <DependentVariable var="activitytype"/>
        <FilterSet type="and"/>
	<Filter table="persons" var="age" condition="greater than equals" value="18"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
        <Filter table="persons_r" var="wrkdailystatus" condition="equals" value="1"/>
        <Filter table="persons_r" var="schdailystatus" condition="equals" value="0"/>

        <Alternative id="inhome" value="101">
          <Variable1 table="standard" var="one" coeff="2.81281519"/>
          <Variable table="standard" var="one" coeff="4.11281519"/>
          <Variable table="persons_history_r" var="ih_history" coeff="-.00163836"/>
          <Variable table="households" var="inclt35k" coeff=".17766702"/>
          <Variable table="persons" var="ag25t34" coeff="-.10865420"/>
          <Variable table="households" var="noc" coeff=".14793416"/>
          <Variable table="households" var="rur" coeff="-.27741331"/>
          <Variable table="runtime" var="int5t7a" coeff="-.2795505"/>
          <Variable1 table="runtime" var="int7t9a" coeff="-.2717589"/>
          <Variable table="runtime" var="int7t11a" coeff="-.8717589"/>
          <Variable table="runtime" var="int11t1p" coeff=".49600861"/>
          <Variable table="runtime" var="int1t4p" coeff="-.49600861"/>
          <Variable table="runtime" var="int6t9p" coeff="-.49600861"/>
        </Alternative>

        <Alternative id="perbus" value="411">
          <Variable table="standard" var="one" coeff="-.07861713"/>
          <Variable table="persons_history_r" var="maintenance_history" coeff=".00208231"/>
          <Variable table="persons" var="ag55t64" coeff=".33830625"/>
          <Variable table="households" var="incge50k" coeff=".14057453"/>
          <Variable table="persons" var="white" coeff=".42305457"/>
          <Variable table="runtime" var="int11t2p" coeff=".5198378"/>
          <Variable table="runtime" var="int1t3p" coeff="-.2198378"/>
          <Variable table="runtime" var="int3t5p" coeff="-.31408633"/>
          <Variable table="runtime" var="int5t10a" coeff="-.61114861"/>
        </Alternative>

        <Alternative id="shop" value="412">
          <Variable table="standard" var="one" coeff="2.08423081"/>
          <Variable table="persons_history_r" var="maintenance_history" coeff=".00278944"/>
          <Variable table="persons" var="ag18t24" coeff="-.23322122"/>
          <Variable table="households" var="incge50k" coeff="-.14604776"/>
          <Variable table="persons" var="female" coeff=".13481257"/>
          <Variable table="households" var="urb" coeff="-.09860891"/>
          <Variable table="households" var="withchild" coeff="-.1332564"/>
          <Variable table="runtime" var="int11t1p" coeff=".8366942"/>
          <Variable table="runtime" var="int1t3p" coeff="-.14931418"/>
          <Variable table="runtime" var="int5t10a" coeff="-.61114861"/>
        </Alternative>

        <Alternative id="social" value="513">
          <Variable table="standard" var="one" coeff=".2338477"/>
          <Variable table="persons_history_r" var="discretionary_history" coeff=".00151753"/>
          <Variable table="persons" var="ag18t24" coeff=".68171424"/>
          <Variable table="households" var="urb" coeff="-.2080508"/>
          <Variable table="households" var="incge75k" coeff="-.11682068"/>
          <Variable table="runtime" var="int1t3p" coeff="-.56237282"/>
          <Variable table="runtime" var="int5t7p" coeff="1.28080212"/>
          <Variable table="runtime" var="int5t11a" coeff="-.61114861"/>
        </Alternative>
        
	<Alternative id="sprec" value="514">
          <Variable table="standard" var="one" coeff="-.00149548"/>
          <Variable table="persons_history_r" var="discretionary_history" coeff="-.0016515"/>
          <Variable table="persons" var="ag35t44" coeff=".13341986"/>
          <Variable table="households" var="incge50k" coeff=".26867267"/>
          <Variable table="households" var="rur" coeff="-.16878773"/>
          <Variable table="persons" var="male" coeff=".09904843"/>
          <Variable table="persons" var="white" coeff=".20453713"/>
          <Variable table="households" var="withchild" coeff=".08039139"/>
          <Variable1 table="runtime" var="int5t7a" coeff="1.47955368"/>
          <Variable table="runtime" var="int5t7p" coeff="1.3964422"/>
          <Variable table="runtime" var="intaft7" coeff="1.11597389"/>
          <Variable table="runtime" var="int5t11a" coeff="-.61114861"/>
        </Alternative>

	<Alternative id="meal" value="415">
          <Variable table="standard" var="one" coeff=".87621375"/>
          <Variable table="persons_history_r" var="maintenance_history" coeff="-.00124799"/>
          <Variable table="persons" var="agge65" coeff="-.33050424"/>
          <Variable table="persons" var="ag18t24" coeff="-.31271073"/>
          <Variable table="households" var="incge50k" coeff=".18421924"/>
          <Variable table="persons" var="female" coeff="-.12420198"/>
          <Variable table="runtime" var="int11t1p" coeff="2.52524564"/>
          <Variable table="runtime" var="int5t7p" coeff=".26501281"/>
          <Variable table="runtime" var="int5t10a" coeff="-.61114861"/>
        </Alternative>
        <Alternative id="other" value="599">
          <Variable table="standard" var="one" coeff="0.0"/>
        </Alternative>

      </Model>



      <Model name="DynamicNonMandatoryActivityTypeAdltWorkerWITHSchool" formulation="Multinomial Logit" type="Alternative Specific" seed="1">
	<!-- Model Updated-->
        <DependentVariable var="activitytype"/>
        <FilterSet type="and"/>
	<Filter table="persons" var="age" condition="greater than equals" value="18"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
        <Filter table="persons_r" var="wrkdailystatus" condition="equals" value="1"/>
        <Filter table="persons_r" var="schdailystatus" condition="equals" value="1"/>

        <Alternative id="inhome" value="101">
          <Variable1 table="standard" var="one" coeff="2.81281519"/>
          <Variable table="standard" var="one" coeff="4.11281519"/>
          <Variable table="persons_history_r" var="ih_history" coeff="-.00163836"/>
          <Variable table="households" var="inclt35k" coeff=".17766702"/>
          <Variable table="persons" var="ag25t34" coeff="-.10865420"/>
          <Variable table="households" var="noc" coeff=".14793416"/>
          <Variable table="households" var="rur" coeff="-.27741331"/>
          <Variable table="runtime" var="int5t7a" coeff="-.2795505"/>
          <Variable1 table="runtime" var="int7t9a" coeff="-.2717589"/>
          <Variable table="runtime" var="int7t11a" coeff="-.8717589"/>
          <Variable table="runtime" var="int11t1p" coeff=".49600861"/>
          <Variable table="runtime" var="int1t4p" coeff="-.49600861"/>
          <Variable table="runtime" var="int6t9p" coeff="-.49600861"/>
        </Alternative>

        <Alternative id="school" value="301">
          <Variable table="standard" var="one" coeff="-.89369952"/>
          <Variable table="persons_history_r" var="fixed_history" coeff="-.00069388"/>
          <Variable table="households" var="inclt35k" coeff=".22199839"/>
          <Variable table="persons" var="ag18t24" coeff="1.79453222"/>
          <Variable table="persons" var="male" coeff="-.21426499"/>
          <Variable table="households" var="noc" coeff=".21535063"/>
          <Variable table="runtime" var="int7t9a" coeff=".98602107"/>
          <Variable table="runtime" var="int5t7p" coeff="1.38624169"/>
        </Alternative>

        <Alternative id="perbus" value="411">
          <Variable table="standard" var="one" coeff="-.07861713"/>
          <Variable table="persons_history_r" var="maintenance_history" coeff=".00208231"/>
          <Variable table="persons" var="ag55t64" coeff=".33830625"/>
          <Variable table="households" var="incge50k" coeff=".14057453"/>
          <Variable table="persons" var="white" coeff=".42305457"/>
          <Variable table="runtime" var="int11t2p" coeff=".5198378"/>
          <Variable table="runtime" var="int1t3p" coeff="-.2198378"/>
          <Variable table="runtime" var="int3t5p" coeff="-.31408633"/>
          <Variable table="runtime" var="int5t10a" coeff="-.61114861"/>
        </Alternative>

        <Alternative id="shop" value="412">
          <Variable table="standard" var="one" coeff="2.08423081"/>
          <Variable table="persons_history_r" var="maintenance_history" coeff=".00278944"/>
          <Variable table="persons" var="ag18t24" coeff="-.23322122"/>
          <Variable table="households" var="incge50k" coeff="-.14604776"/>
          <Variable table="persons" var="female" coeff=".13481257"/>
          <Variable table="households" var="urb" coeff="-.09860891"/>
          <Variable table="households" var="withchild" coeff="-.1332564"/>
          <Variable table="runtime" var="int11t1p" coeff=".8366942"/>
          <Variable table="runtime" var="int1t3p" coeff="-.14931418"/>
          <Variable table="runtime" var="int5t10a" coeff="-.61114861"/>
        </Alternative>

        <Alternative id="social" value="513">
          <Variable table="standard" var="one" coeff=".2338477"/>
          <Variable table="persons_history_r" var="discretionary_history" coeff=".00151753"/>
          <Variable table="persons" var="ag18t24" coeff=".68171424"/>
          <Variable table="households" var="urb" coeff="-.2080508"/>
          <Variable table="households" var="incge75k" coeff="-.11682068"/>
          <Variable table="runtime" var="int1t3p" coeff="-.56237282"/>
          <Variable table="runtime" var="int5t7p" coeff="1.28080212"/>
          <Variable table="runtime" var="int5t11a" coeff="-.61114861"/>
        </Alternative>
        
	<Alternative id="sprec" value="514">
          <Variable table="standard" var="one" coeff="-.00149548"/>
          <Variable table="persons_history_r" var="discretionary_history" coeff="-.0016515"/>
          <Variable table="persons" var="ag35t44" coeff=".13341986"/>
          <Variable table="households" var="incge50k" coeff=".26867267"/>
          <Variable table="households" var="rur" coeff="-.16878773"/>
          <Variable table="persons" var="male" coeff=".09904843"/>
          <Variable table="persons" var="white" coeff=".20453713"/>
          <Variable table="households" var="withchild" coeff=".08039139"/>
          <Variable1 table="runtime" var="int5t7a" coeff="1.47955368"/>
          <Variable table="runtime" var="int5t7p" coeff="1.3964422"/>
          <Variable table="runtime" var="intaft7" coeff="1.11597389"/>
          <Variable table="runtime" var="int5t11a" coeff="-.61114861"/>
        </Alternative>

	<Alternative id="meal" value="415">
          <Variable table="standard" var="one" coeff=".87621375"/>
          <Variable table="persons_history_r" var="maintenance_history" coeff="-.00124799"/>
          <Variable table="persons" var="agge65" coeff="-.33050424"/>
          <Variable table="persons" var="ag18t24" coeff="-.31271073"/>
          <Variable table="households" var="incge50k" coeff=".18421924"/>
          <Variable table="persons" var="female" coeff="-.12420198"/>
          <Variable table="runtime" var="int11t1p" coeff="2.52524564"/>
          <Variable table="runtime" var="int5t7p" coeff=".26501281"/>
          <Variable table="runtime" var="int5t10a" coeff="-.61114861"/>
        </Alternative>
        <Alternative id="other" value="599">
          <Variable table="standard" var="one" coeff="0.0"/>
        </Alternative>

      </Model>




      <Model name="DynamicNonMandatoryActivityTypeAdltNonWorkersWithNoSchool" formulation="Multinomial Logit" type="Alternative Specific" seed="1">
	<!-- Model Updated-->
        <DependentVariable var="activitytype"/>
        <FilterSet type="and"/>
	<Filter table="persons" var="age" condition="greater than equals" value="18"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
        <Filter table="persons_r" var="wrkdailystatus" condition="equals" value="0"/>
        <Filter table="persons_r" var="schdailystatus" condition="equals" value="0"/>

        <Alternative id="inhome" value="101">
          <Variable1 table="standard" var="one" coeff="2.74279288"/>
          <Variable table="standard" var="one" coeff="4.24279288"/>
          <Variable table="persons_history_r" var="ih_history" coeff="-.00233867"/>
          <Variable table="households" var="rur" coeff="-.26120781"/>
          <Variable table="persons" var="ag45t54" coeff=".26035446"/>
          <Variable table="households" var="noc" coeff=".26813354"/>
          <Variable table="runtime" var="int8t11a" coeff="-.85312085"/>
          <Variable table="runtime" var="int5t7p" coeff="-.19735821"/>
          <Variable table="runtime" var="int7t9p" coeff="-.49600861"/>
        </Alternative>

        <Alternative id="perbus" value="411">
          <Variable table="standard" var="one" coeff=".1472918"/>
          <Variable table="persons_history_r" var="maintenance_history" coeff=".00103867"/>
          <Variable table="persons" var="ag45t54" coeff=".24998587"/>
          <Variable table="persons" var="agge65" coeff=".10211525"/>
          <Variable table="households" var="nwrkcnt" coeff="-.07073217"/>
          <Variable table="households" var="urb" coeff="-.14925279"/>
          <Variable table="persons" var="coled" coeff=".0992252"/>
          <Variable table="runtime" var="int8t11a" coeff="-.30259874"/>
          <Variable table="runtime" var="int11t2p" coeff=".95335632"/>
          <Variable table="runtime" var="int2t5p" coeff="-.20435871"/>
        </Alternative>

        <Alternative id="shop" value="412">
          <Variable1 table="standard" var="one" coeff="1.32676203"/>
          <Variable table="standard" var="one" coeff="1.12676203"/>
          <Variable table="persons_history_r" var="maintenance_history" coeff=".00109782"/>
          <Variable table="persons" var="ag45t54" coeff=".30881186"/>
          <Variable table="households" var="incge50k" coeff="-.11961564"/>
          <Variable table="persons" var="female" coeff=".05101292"/>
          <Variable table="households" var="urb" coeff="-.11511187"/>
          <Variable table="runtime" var="int11t2p" coeff=".95335632"/>
          <Variable table="runtime" var="int2t5p" coeff=".50926423"/>
        </Alternative>

        <Alternative id="social" value="513">
          <Variable1 table="standard" var="one" coeff="-.07370901"/>
          <Variable table="standard" var="one" coeff=".17370901"/>
          <Variable table="persons_history_r" var="discretionary_history" coeff=".00275079"/>
          <Variable table="persons" var="ag45t54" coeff=".20299677"/>
          <Variable table="persons" var="ag35t44" coeff="-.10355239"/>
          <Variable table="households" var="incge75k" coeff="-.07769936"/>
          <Variable table="households" var="urb" coeff="-.11686185"/>
          <Variable table="persons" var="coled" coeff="-.10169254"/>
          <Variable table="runtime" var="int8t11a" coeff="-.79051424"/>
          <Variable1 table="runtime" var="int11t2p" coeff=".37168927"/>
          <Variable table="runtime" var="int2t5p" coeff=".12871034"/>
          <Variable table="runtime" var="int5t7p" coeff=".54762517"/>
          <Variable table="runtime" var="intaft7" coeff=".59735821"/>
        </Alternative>

        <Alternative id="sprec" value="514">
          <Variable table="standard" var="one" coeff=".08258136"/>
          <Variable table="persons" var="ag55t64" coeff="-.14440209"/>
          <Variable table="persons" var="agge65" coeff="-.07550924"/>
          <Variable table="households" var="incge75k" coeff=".2165752"/>
          <Variable table="households" var="urb" coeff=".09535051"/>
          <Variable table="persons" var="coled" coeff=".37447335"/>
          <Variable table="runtime" var="int8t11a" coeff="-.79051424"/>
          <Variable table="runtime" var="int2t5p" coeff="-.59081167"/>
          <Variable table="runtime" var="int5t7p" coeff=".23878287"/>
          <Variable table="runtime" var="intaft7" coeff=".59735821"/>
        </Alternative>

        <Alternative id="meal" value="415">
          <Variable table="standard" var="one" coeff=".20600279"/>
          <Variable table="persons_history_r" var="maintenance_history" coeff="-.00064449"/>
          <Variable table="persons" var="ag45t54" coeff=".23275827"/>

          <Variable table="households" var="inclt35k" coeff="-.11947013"/>
          <Variable table="persons" var="female" coeff="-.15189723"/>
          <Variable table="persons" var="coled" coeff=".05648156"/>
          <Variable table="runtime" var="int8t11a" coeff="-.71977776"/>
          <Variable1 table="runtime" var="int11t2p" coeff=".95578348"/>
          <Variable table="runtime" var="int5t7p" coeff=".8079389"/>
        </Alternative>

        <Alternative id="other" value="599">
          <Variable table="standard" var="one" coeff="0.0"/>
        </Alternative>


      </Model>












      <Model name="DynamicNonMandatoryActivityTypeAdltNonWorkersWithSchool" formulation="Multinomial Logit" type="Alternative Specific" seed="1">
	<!-- Model Updated-->
        <DependentVariable var="activitytype"/>
        <FilterSet type="and"/>
	<Filter table="persons" var="age" condition="greater than equals" value="18"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
        <Filter table="persons_r" var="wrkdailystatus" condition="equals" value="0"/>
        <Filter table="persons_r" var="schdailystatus" condition="equals" value="1"/>


        <Alternative id="inhome" value="101">
          <Variable1 table="standard" var="one" coeff="2.74279288"/>
          <Variable table="standard" var="one" coeff="4.24279288"/>
          <Variable table="persons_history_r" var="ih_history" coeff="-.00233867"/>
          <Variable table="households" var="rur" coeff="-.26120781"/>
          <Variable table="persons" var="ag45t54" coeff=".26035446"/>
          <Variable table="households" var="noc" coeff=".26813354"/>
          <Variable table="runtime" var="int8t11a" coeff="-.85312085"/>
          <Variable table="runtime" var="int5t7p" coeff="-.19735821"/>
          <Variable table="runtime" var="int7t9p" coeff="-.49600861"/>
        </Alternative>

        <Alternative id="school" value="301">
          <Variable table="standard" var="one" coeff="-.30268794"/>
          <Variable table="persons_history_r" var="fixed_history" coeff=".00247586"/>
          <Variable table="persons" var="ag25t34" coeff=".32200851"/>
          <Variable table="households" var="inclt35k" coeff=".0747587"/>
          <Variable table="households" var="nwrkcnt" coeff=".1446546"/>
          <Variable table="persons" var="female" coeff=".13741645"/>
          <Variable table="runtime" var="int8t11a" coeff="-1.07978831"/>
          <Variable table="runtime" var="int11t2p" coeff="-1.58779432"/>
          <Variable table="runtime" var="int2t5p" coeff="-1.6305172"/>
        </Alternative>

        <Alternative id="perbus" value="411">
          <Variable table="standard" var="one" coeff=".1472918"/>
          <Variable table="persons_history_r" var="maintenance_history" coeff=".00103867"/>
          <Variable table="persons" var="ag45t54" coeff=".24998587"/>
          <Variable table="persons" var="agge65" coeff=".10211525"/>
          <Variable table="households" var="nwrkcnt" coeff="-.07073217"/>
          <Variable table="households" var="urb" coeff="-.14925279"/>
          <Variable table="persons" var="coled" coeff=".0992252"/>
          <Variable table="runtime" var="int8t11a" coeff="-.30259874"/>
          <Variable table="runtime" var="int11t2p" coeff=".95335632"/>
          <Variable table="runtime" var="int2t5p" coeff="-.20435871"/>
        </Alternative>

        <Alternative id="shop" value="412">
          <Variable1 table="standard" var="one" coeff="1.32676203"/>
          <Variable table="standard" var="one" coeff="1.12676203"/>
          <Variable table="persons_history_r" var="maintenance_history" coeff=".00109782"/>
          <Variable table="persons" var="ag45t54" coeff=".30881186"/>
          <Variable table="households" var="incge50k" coeff="-.11961564"/>
          <Variable table="persons" var="female" coeff=".05101292"/>
          <Variable table="households" var="urb" coeff="-.11511187"/>
          <Variable table="runtime" var="int11t2p" coeff=".95335632"/>
          <Variable table="runtime" var="int2t5p" coeff=".50926423"/>
        </Alternative>

        <Alternative id="social" value="513">
          <Variable1 table="standard" var="one" coeff="-.07370901"/>
          <Variable table="standard" var="one" coeff=".17370901"/>
          <Variable table="persons_history_r" var="discretionary_history" coeff=".00275079"/>
          <Variable table="persons" var="ag45t54" coeff=".20299677"/>
          <Variable table="persons" var="ag35t44" coeff="-.10355239"/>
          <Variable table="households" var="incge75k" coeff="-.07769936"/>
          <Variable table="households" var="urb" coeff="-.11686185"/>
          <Variable table="persons" var="coled" coeff="-.10169254"/>
          <Variable table="runtime" var="int8t11a" coeff="-.79051424"/>
          <Variable1 table="runtime" var="int11t2p" coeff=".37168927"/>
          <Variable table="runtime" var="int2t5p" coeff=".12871034"/>
          <Variable table="runtime" var="int5t7p" coeff=".54762517"/>
          <Variable table="runtime" var="intaft7" coeff=".59735821"/>
        </Alternative>

        <Alternative id="sprec" value="514">
          <Variable table="standard" var="one" coeff=".08258136"/>
          <Variable table="persons" var="ag55t64" coeff="-.14440209"/>
          <Variable table="persons" var="agge65" coeff="-.07550924"/>
          <Variable table="households" var="incge75k" coeff=".2165752"/>
          <Variable table="households" var="urb" coeff=".09535051"/>
          <Variable table="persons" var="coled" coeff=".37447335"/>
          <Variable table="runtime" var="int8t11a" coeff="-.79051424"/>
          <Variable table="runtime" var="int2t5p" coeff="-.59081167"/>
          <Variable table="runtime" var="int5t7p" coeff=".23878287"/>
          <Variable table="runtime" var="intaft7" coeff=".59735821"/>
        </Alternative>

        <Alternative id="meal" value="415">
          <Variable table="standard" var="one" coeff=".20600279"/>
          <Variable table="persons_history_r" var="maintenance_history" coeff="-.00064449"/>
          <Variable table="persons" var="ag45t54" coeff=".23275827"/>
          <Variable table="households" var="inclt35k" coeff="-.11947013"/>
          <Variable table="persons" var="female" coeff="-.15189723"/>
          <Variable table="persons" var="coled" coeff=".05648156"/>
          <Variable table="runtime" var="int8t11a" coeff="-.71977776"/>
          <Variable table="runtime" var="int11t2p" coeff=".95578348"/>
          <Variable table="runtime" var="int5t7p" coeff=".8079389"/>
        </Alternative>

        <Alternative id="other" value="599">
          <Variable table="standard" var="one" coeff="0.0"/>
        </Alternative>



      </Model>

      <Model name="DynamicNonMandatoryActivityTypeNonAdltWorkers" formulation="Multinomial Logit" type="Alternative Specific" seed="1">
	<!-- Model Updated-->
        <DependentVariable var="activitytype"/>
        <FilterSet type="and"/>
	<Filter table="persons" var="age" condition="less than" value="18"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
        <Filter table="persons_r" var="wrkdailystatus" condition="equals" value="1"/>

        <Alternative id="inhome" value="101">
          <Variable1 table="standard" var="one" coeff="2.314935"/>
          <Variable table="standard" var="one" coeff="4.314935"/>
          <Variable table="persons_history_r" var="ih_history" coeff="-.00326878"/>
          <Variable table="households" var="noc" coeff=".06282644"/>
          <Variable table="households" var="inclt35k" coeff="-.16776505"/>
          <Variable table="runtime" var="int6t9a" coeff="-2.00025167"/>
          <Variable table="runtime" var="int1t4p" coeff=".87023637"/>
        </Alternative>

        <Alternative id="work" value="201">
          <Variable table="standard" var="one" coeff="-1.7896174"/>
          <Variable table="persons_history_r" var="ih_history" coeff="-.0008427"/>
          <Variable table="persons" var="agge15" coeff="2.36252595"/>
          <Variable table="households" var="nwrkcnt" coeff="-.29497727"/>
          <Variable table="runtime" var="int1t4p" coeff=".52244829"/>
          <Variable table="runtime" var="int4t7p" coeff=".39290886"/>
        </Alternative>

        <Alternative id="perbus" value="411">
          <Variable table="standard" var="one" coeff="-.87095267"/>
          <Variable table="persons" var="white" coeff=".5064938"/>
          <Variable table="households" var="nwrkcnt" coeff="-.11331354"/>
          <Variable table="persons" var="female" coeff="-.25420547"/>
          <Variable table="households" var="incge100k" coeff="-.34843803"/>
          <Variable table="runtime" var="int4t7p" coeff=".71114861"/>
          <Variable table="runtime" var="int5t10a" coeff="-.61114861"/>
        </Alternative>

        <Alternative id="shop" value="412">
          <Variable table="standard" var="one" coeff=".21154929"/>
          <Variable table="persons_history_r" var="maintenance_history" coeff=".00312141"/>
          <Variable table="persons" var="female" coeff=".26423271"/>
          <Variable table="persons" var="agge15" coeff=".18139806"/>
          <Variable table="runtime" var="int9t11a" coeff=".54387937"/>
          <Variable table="runtime" var="int11t1p" coeff=".54880648"/>
          <Variable table="runtime" var="int4t7p" coeff=".31895759"/>
          <Variable table="runtime" var="int5t10a" coeff="-.61114861"/>
        </Alternative>

        <Alternative id="social" value="513">
          <Variable table="standard" var="one" coeff=".68831484"/>
          <Variable table="persons_history_r" var="discretionary_history" coeff=".00136309"/>
          <Variable table="households" var="urb" coeff="-.13760585"/>
          <Variable table="households" var="noc" coeff=".05770767"/>
          <Variable table="runtime" var="int6t9a" coeff="-.89045713"/>
          <Variable table="runtime" var="int1t4p" coeff=".10471978"/>
          <Variable table="runtime" var="int4t7p" coeff=".27101811"/>
          <Variable table="runtime" var="int5t10a" coeff="-.31114861"/>
        </Alternative>

        <Alternative id="sprec" value="514">
          <Variable table="standard" var="one" coeff=".66264958"/>
          <Variable table="persons_history_r" var="discretionary_history" coeff="-.00087568"/>
          <Variable table="households" var="incge50k" coeff=".3047449"/>
          <Variable table="persons" var="agge15" coeff="-.23579761"/>
          <Variable table="runtime" var="int6t9a" coeff="-.50819419"/>
          <Variable table="runtime" var="int4t7p" coeff=".73771072"/>
          <Variable table="runtime" var="intaft7" coeff=".43275512"/>
          <Variable table="runtime" var="int5t10a" coeff="-.31114861"/>
        </Alternative>

        <Alternative id="meal" value="415">
          <Variable table="standard" var="one" coeff="-.20461019"/>
          <Variable table="persons_history_r" var="maintenance_history" coeff=".00302733"/>
          <Variable table="households" var="inclt35k" coeff="-.88700806"/>
          <Variable table="persons" var="white" coeff=".26857059"/>
          <Variable table="runtime" var="int11t1p" coeff=".67503287"/>
          <Variable table="runtime" var="int4t7p" coeff=".24162776"/>
          <Variable table="runtime" var="int5t10a" coeff="-.61114861"/>
        </Alternative>

        <Alternative id="other" value="599">
          <Variable table="standard" var="one" coeff="0.0"/>
        </Alternative>

      </Model>

      <Model name="DynamicNonMandatoryActivityTypeNonAdltWithNOWork" formulation="Multinomial Logit" type="Alternative Specific" seed="1">
	<!-- Model Updated-->
        <DependentVariable var="activitytype"/>
        <FilterSet type="and"/>
	<Filter table="persons" var="age" condition="less than" value="18"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
        <Filter table="persons_r" var="wrkdailystatus" condition="equals" value="0"/>

        <Alternative id="inhome" value="101">
          <Variable1 table="standard" var="one" coeff="2.314935"/>
          <Variable table="standard" var="one" coeff="4.314935"/>
          <Variable table="persons_history_r" var="ih_history" coeff="-.00326878"/>
          <Variable table="households" var="noc" coeff=".06282644"/>
          <Variable table="households" var="inclt35k" coeff="-.16776505"/>
          <Variable table="runtime" var="int6t9a" coeff="-2.00025167"/>
          <Variable table="runtime" var="int1t4p" coeff=".87023637"/>
        </Alternative>

        <Alternative id="perbus" value="411">
          <Variable table="standard" var="one" coeff="-.87095267"/>
          <Variable table="persons" var="white" coeff=".5064938"/>
          <Variable table="households" var="nwrkcnt" coeff="-.11331354"/>
          <Variable table="persons" var="female" coeff="-.25420547"/>
          <Variable table="households" var="incge100k" coeff="-.34843803"/>
          <Variable table="runtime" var="int4t7p" coeff=".71114861"/>
          <Variable table="runtime" var="int5t10a" coeff="-.31114861"/>
        </Alternative>

        <Alternative id="shop" value="412">
          <Variable table="standard" var="one" coeff=".21154929"/>
          <Variable table="persons_history_r" var="maintenance_history" coeff=".00312141"/>
          <Variable table="persons" var="female" coeff=".26423271"/>
          <Variable table="persons" var="agge15" coeff=".18139806"/>
          <Variable table="runtime" var="int9t11a" coeff=".54387937"/>
          <Variable table="runtime" var="int11t1p" coeff=".54880648"/>
          <Variable table="runtime" var="int4t7p" coeff=".31895759"/>
          <Variable table="runtime" var="int5t10a" coeff="-.31114861"/>
        </Alternative>

        <Alternative id="social" value="513">
          <Variable table="standard" var="one" coeff=".68831484"/>
          <Variable table="persons_history_r" var="discretionary_history" coeff=".00136309"/>
          <Variable table="households" var="urb" coeff="-.13760585"/>
          <Variable table="households" var="noc" coeff=".05770767"/>
          <Variable table="runtime" var="int6t9a" coeff="-.89045713"/>
          <Variable table="runtime" var="int1t4p" coeff=".10471978"/>
          <Variable table="runtime" var="int4t7p" coeff=".27101811"/>
          <Variable table="runtime" var="int5t10a" coeff="-.11114861"/>
        </Alternative>

        <Alternative id="sprec" value="514">
          <Variable table="standard" var="one" coeff=".66264958"/>
          <Variable table="persons_history_r" var="discretionary_history" coeff="-.00087568"/>
          <Variable table="households" var="incge50k" coeff=".3047449"/>
          <Variable table="persons" var="agge15" coeff="-.23579761"/>
          <Variable table="runtime" var="int6t9a" coeff="-.50819419"/>
          <Variable table="runtime" var="int4t7p" coeff=".73771072"/>
          <Variable table="runtime" var="intaft7" coeff=".43275512"/>
          <Variable table="runtime" var="int5t10a" coeff="-.11114861"/>
        </Alternative>

        <Alternative id="meal" value="415">
          <Variable table="standard" var="one" coeff="-.20461019"/>
          <Variable table="persons_history_r" var="maintenance_history" coeff=".00302733"/>
          <Variable table="households" var="inclt35k" coeff="-.88700806"/>
          <Variable table="persons" var="white" coeff=".26857059"/>
          <Variable table="runtime" var="int11t1p" coeff=".67503287"/>
          <Variable table="runtime" var="int4t7p" coeff=".24162776"/>
          <Variable table="runtime" var="int5t10a" coeff="-.31114861"/>
        </Alternative>

        <Alternative id="other" value="599">
          <Variable table="standard" var="one" coeff="0.0"/>
        </Alternative>

      </Model>

      <Model name="ActivityTypeInd" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="activitytype_101"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="activitytype" condition="equals" value="101"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="ActivityTypeInd" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="activitytype_200"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="activitytype" condition="equals" value="200"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="ActivityTypeInd" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="activitytype_300"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="activitytype" condition="equals" value="300"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="ActivityTypeInd" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="activitytype_411"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="activitytype" condition="equals" value="411"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="ActivityTypeInd" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="activitytype_412"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="activitytype" condition="equals" value="412"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="ActivityTypeInd" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="activitytype_415"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="activitytype" condition="equals" value="415"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="ActivityTypeInd" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="activitytype_513"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="activitytype" condition="equals" value="513"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="ActivityTypeInd" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="activitytype_514"/>
        <FilterSet type="and"/>
	<Filter table="runtime" var="activitytype" condition="equals" value="514"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>


      <Model name="DynamicNonMandatoryActDurationAdltWrkr" formulation="Regression" type="Linear" vertex="start" lower_threshold="5" upper_threshold="195" seed="1">
	<!-- Model Updated-->
	<DependentVariable var="duration"/>
        <FilterSet type="and"/>
	<Filter table="persons" var="age" condition="greater than equals" value="18"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
        <Filter table="persons_r" var="wrkdailystatus" condition="equals" value="1"/>
        <Variance value="5369.81"/>
        <Variable1 table="standard" var="one" coeff="131.625487"/>
        <Variable table="standard" var="one" coeff="115.625487"/>
        <Variable1 table="runtime" var="activitytype_101" coeff="-41.6038946"/>
        <Variable table="runtime" var="activitytype_101" coeff="-61.6038946"/>
        <Variable table="runtime" var="activitytype_411" coeff="-80.6892829"/>
        <Variable table="runtime" var="activitytype_412" coeff="-99.8244044"/>
        <Variable table="runtime" var="activitytype_513" coeff="-42.2815739"/>
        <Variable table="runtime" var="activitytype_514" coeff="-79.2174112"/>
        <Variable table="runtime" var="activitytype_415" coeff="-96.5982111"/>
        <Variable table="households" var="noc" coeff="-2.41217847"/>
        <Variable table="persons" var="fulltim" coeff="-8.42713568"/>
        <Variable table="households" var="nwrkcnt" coeff="2.56065041"/>
        <Variable table="persons" var="male" coeff="4.4859756"/>
        <Variable table="persons" var="ag18t24" coeff="19.5954666"/>
        <Variable table="persons" var="ag25t34" coeff="5.0466676"/>
        <Variable table="households,runtime" var="inclt35k,activitytype_101" coeff="14.3992299" interaction="True"/>
        <Variable table="households,runtime" var="inclt35k,activitytype_415" coeff="-8.40108885" interaction="True"/>
        <Variable table="runtime,runtime" var="int11t1p,activitytype_415" coeff="13.6997715" interaction="True"/>
        <Variable table="runtime,runtime" var="int3t5p,activitytype_514" coeff="34.4748893" interaction="True"/>
        <Variable table="runtime,runtime" var="int3t5p,activitytype_415" coeff="22.5312065" interaction="True"/>
        <Variable table="runtime,runtime" var="int5t7p,activitytype_101" coeff="-24.2318882" interaction="True"/>
        <Variable table="runtime,runtime" var="int5t7p,activitytype_514" coeff="24.8182848" interaction="True"/>
        <Variable table="runtime,runtime" var="int5t7p,activitytype_415" coeff="23.9427585" interaction="True"/>
        <Variable table="runtime" var="int11t1p" coeff="-8.35650154"/>
        <Variable table="runtime" var="int3t5p" coeff="-13.2445027"/>
        <Variable table="runtime" var="int5t7p" coeff="-6.39737168"/>
        <Variable table="runtime" var="intaft7" coeff="-17.274548"/>
      </Model>


      <Model name="DynamicNonMandatoryActDurationAdltNonWorker" formulation="Regression" type="Linear" vertex="start" lower_threshold="5" upper_threshold="300" seed="1">
	<!-- Model Updated-->
	<DependentVariable var="duration"/>
        <FilterSet type="and"/>
	<Filter table="persons" var="age" condition="greater than equals" value="18"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
        <Filter table="persons_r" var="wrkdailystatus" condition="equals" value="0"/>
        <Variance value="8178.49"/>
        <Variable1 table="standard" var="one" coeff="108.01977"/>
        <Variable table="standard" var="one" coeff="98.01977"/>
        <Variable1 table="runtime" var="activitytype_101" coeff="73.3042178"/>
        <Variable table="runtime" var="activitytype_101" coeff="-33.3042178"/>
        <Variable table="runtime" var="activitytype_300" coeff="62.4170744"/>
        <Variable table="runtime" var="activitytype_411" coeff="-25.8765097"/>
        <Variable table="runtime" var="activitytype_412" coeff="-61.6866884"/>
        <Variable table="runtime" var="activitytype_513" coeff="33.1937557"/>
        <Variable table="runtime" var="activitytype_514" coeff="-14.7802881"/>
        <Variable table="runtime" var="activitytype_415" coeff="-34.4164686"/>
        <Variable table="persons" var="coled" coeff="-4.59962578"/>
        <Variable table="persons" var="white" coeff="-6.58317344"/>
        <Variable table="persons" var="ag18t24" coeff="31.4186235"/>
        <Variable table="persons" var="ag25t34" coeff="8.38296723"/>
        <Variable table="households" var="noc" coeff="-.75023389"/>
        <Variable table="households" var="incge75k" coeff="1.65825795"/>
        <Variable table="households,runtime" var="urb,activitytype_513" coeff="6.44006912" interaction="True"/>
        <Variable table="runtime,runtime" var="int1t3p,activitytype_101" coeff="-5.24346456" interaction="True"/>
        <Variable table="runtime,runtime" var="int1t3p,activitytype_411" coeff="11.3718155" interaction="True"/>
        <Variable table="runtime,runtime" var="int1t3p,activitytype_412" coeff="26.4334077" interaction="True"/>
        <Variable table="runtime,runtime" var="int1t3p,activitytype_513" coeff="-10.0381981" interaction="True"/>
        <Variable table="runtime,runtime" var="int1t3p,activitytype_514" coeff="29.2572021" interaction="True"/>
        <Variable table="runtime,runtime" var="int3t5p,activitytype_101" coeff="-29.3321661" interaction="True"/>
        <Variable table="runtime,runtime" var="int3t5p,activitytype_411" coeff="13.642396" interaction="True"/>
        <Variable table="runtime,runtime" var="int3t5p,activitytype_412" coeff="33.9794783" interaction="True"/>
        <Variable table="runtime,runtime" var="int3t5p,activitytype_514" coeff="24.8477314" interaction="True"/>
        <Variable table="runtime,runtime" var="int3t5p,activitytype_415" coeff="27.0655937" interaction="True"/>
        <Variable table="runtime" var="int11t1p" coeff="-11.0496402"/>
        <Variable table="runtime" var="int1t3p" coeff="-36.1609303"/>
        <Variable table="runtime" var="int3t5p" coeff="-46.969311"/>
        <Variable table="runtime" var="int5t7p" coeff="-29.5808211"/>

      </Model>

      <Model name="DynamicNonMandatoryActDurationNonAdlt" formulation="Regression" type="Linear" vertex="start" lower_threshold="5" upper_threshold="265" seed="1">
	<!-- Model Updated-->
	<DependentVariable var="duration"/>
        <FilterSet type="and"/>
	<Filter table="persons" var="age" condition="less than" value="18"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
        <Variance value="7161.37"/>
        <Variable1 table="standard" var="one" coeff="102.647821"/>
        <Variable table="standard" var="one" coeff="92.647821"/>
        <Variable table="runtime" var="activitytype_101" coeff="47.4244126"/>
        <Variable table="runtime" var="activitytype_200" coeff="139.591903"/>
        <Variable table="runtime" var="activitytype_412" coeff="-35.5549197"/>
        <Variable table="runtime" var="activitytype_513" coeff="28.6597514"/>
        <Variable table="runtime" var="activitytype_514" coeff="27.5828811"/>
        <Variable table="runtime" var="activitytype_415" coeff="-29.001621"/>
        <Variable table="persons" var="white" coeff="-9.1106919"/>
        <Variable table="persons" var="ag5t14" coeff="-7.05386769"/>
        <Variable table="households,runtime" var="inclt35k,activitytype_513" coeff="23.2586383" interaction="True"/>
        <Variable table="households,runtime" var="incge75k,activitytype_101" coeff="-10.8316234" interaction="True"/>
        <Variable table="households,runtime" var="incge75k,activitytype_513" coeff="14.8203078" interaction="True"/>
        <Variable table="households,runtime" var="incge75k,activitytype_514" coeff="10.7005153" interaction="True"/>
        <Variable table="runtime,runtime" var="int2t4p,activitytype_513" coeff="14.5645106" interaction="True"/>
        <Variable table="runtime,runtime" var="int4t7p,activitytype_101" coeff="-22.7837485" interaction="True"/>
        <Variable table="runtime,runtime" var="int4t7p,activitytype_412" coeff="20.0793056" interaction="True"/>
        <Variable table="runtime,runtime" var="int4t7p,activitytype_415" coeff="24.4425187" interaction="True"/>
        <Variable table="runtime" var="int2t4p" coeff="-29.8069323"/>
        <Variable table="runtime" var="int4t7p" coeff="-45.4598576"/>
        <Variable table="runtime" var="intaft7" coeff="-56.3683376"/>

      </Model>


      <Model name="DynamicLocationIDIHActs" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="locationid"/>
	<FilterSet type="and"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
	<Filter table="runtime" var="activitytype" condition="equals" value="101"/>
	<Variance value="0"/>
        <Variable table="households" var="htaz" coeff="1"/>
      </Model>

      <Model name="DynamicLocationIDIHActs" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="locationid"/>
	<FilterSet type="and"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
	<Filter table="runtime" var="activitytype" condition="equals" value="301"/>
	<Variance value="0"/>
        <Variable table="persons" var="schtaz" coeff="1"/>
      </Model>

      <Model name="DynamicLocationIDIHActs" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="locationid"/>
	<FilterSet type="and"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
	<Filter table="runtime" var="activitytype" condition="equals" value="201"/>
	<Variance value="0"/>
        <Variable table="persons" var="wtaz" coeff="1"/>
      </Model>


      <Model name="DynamicLocationIDOHActsAdltWrkr" formulation="Multinomial Logit" seed="1">
	<!-- Model Updated-->
        <AlternativeSet count="5"/>
	<DependentVariable var="locationid"/>
	<FilterSet type="and"/>
	<Filter table="persons" var="age" condition="greater than equals" value="18"/>
	<Filter table="runtime" var="activitytype" condition="greater than" value="400"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
        <Filter table="persons_r" var="wrkdailystatus" condition="equals" value="1"/>
        <Variable table="travel_skims" var="tt_to" coeff="-.16188774" repeat="tt_to"/>
        <Variable table="locations" var="retail_employment" coeff=".00068035" repeat="retail_employment"/>
        <Variable table="locations" var="office_employment" coeff=".00013751" repeat="office_employment"/>
        <Variable table="locations" var="institutional_population" coeff=".00187395" repeat="institutional_population"/>
        <Variable table="households,travel_skims" var="withchild,tt_to" coeff="-.02202905" interaction="True" repeat="tt_to"/>
        <Variable table="persons,travel_skims" var="white,tt_to" coeff="-.02686166" interaction="True" repeat="tt_to"/>
        <Variable table="locations" var="lowest_income" coeff="-.00115045" repeat="lowest_income"/>
        <Variable table="locations" var="high_income" coeff=".00209443" repeat="high_income"/>
        <Variable table="locations" var="groupquarter_households" coeff=".00400169" repeat="groupquarter_households"/>
        <Variable table="households,travel_skims" var="twnhouse,tt_to" coeff="-.04698083" interaction="True" repeat="tt_to"/>
        <Variable table="locations" var="retail_employment_density" coeff="-.00011531" repeat="retail_employment_density"/>
        <Variable table="locations" var="office_employment_density" coeff=".00001326" repeat="office_employment_density"/>
        <Variable table="runtime,travel_skims" var="int9t11a,tt_to" coeff="-.04264572" interaction="True" repeat="tt_to"/>
        <Variable table="runtime,travel_skims" var="int11t1p,tt_to" coeff="-.10841376" interaction="True" repeat="tt_to"/>
      </Model>

      <Model name="DynamicLocationIDOHActsAdltNonWorker" formulation="Multinomial Logit" seed="1">
	<!-- Model Updated-->
        <AlternativeSet count="5"/>
	<DependentVariable var="locationid"/>
	<FilterSet type="and"/>
	<Filter table="persons" var="age" condition="greater than equals" value="18"/>
	<Filter table="runtime" var="activitytype" condition="greater than" value="400"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
        <Filter table="persons_r" var="wrkdailystatus" condition="equals" value="0"/>
        <Variable table="travel_skims" var="tt_to" coeff="-.17307478" repeat="tt_to"/>
        <Variable table="runtime,travel_skims" var="activitytype_411,tt_to" coeff="-.02426673" interaction="True" repeat="tt_to"/>
        <Variable table="runtime,travel_skims" var="activitytype_412,tt_to" coeff="-.10329537" interaction="True" repeat="tt_to"/>
        <Variable table="runtime,travel_skims" var="activitytype_514,tt_to" coeff="-.07553901" interaction="True" repeat="tt_to"/>
        <Variable table="runtime,travel_skims" var="activitytype_415,tt_to" coeff="-.05903244" interaction="True" repeat="tt_to"/>
        <Variable table="locations" var="retail_employment" coeff=".00063703" repeat="retail_employment"/>
        <Variable table="locations" var="total_area" coeff=".03955772" repeat="total_area"/>
        <Variable table="households,travel_skims" var="inclt35k,tt_to" coeff="-.02909125" interaction="True" repeat="tt_to"/>
        <Variable table="households_vehicles_count_r,travel_skims" var="vehcount,tt_to" coeff=".01277594" interaction="True" repeat="tt_to"/>
        <Variable table="persons,travel_skims" var="female,tt_to" coeff="-.02839005" interaction="True" repeat="tt_to"/>
        <Variable table="locations" var="high_income" coeff=".0003308" repeat="high_income"/>
        <Variable table="locations" var="institutional_population" coeff=".00176955" repeat="institutional_population"/>
        <Variable table="persons,travel_skims" var="ag18t24,tt_to" coeff="-.03597208" interaction="True" repeat="tt_to"/>
        <Variable table="persons,travel_skims" var="ag25t34,tt_to" coeff=".03025569" interaction="True" repeat="tt_to"/>
        <Variable table="persons,travel_skims" var="agge65,tt_to" coeff="-.01976454" interaction="True" repeat="tt_to"/>
        <Variable table="locations" var="residential_households" coeff=".00017351" repeat="residential_households"/>
        <Variable table="locations" var="public_employment_density" coeff=".0000411" repeat="public_employment_density"/>
        <Variable table="locations" var="retail_employment_density" coeff="-.00004" repeat="retail_employment_density"/>
        <Variable table="runtime,travel_skims" var="int9t11a,tt_to" coeff=".02221426" interaction="True" repeat="tt_to"/>
        <Variable table="runtime,travel_skims" var="int11t1p,tt_to" coeff=".01909242" interaction="True" repeat="tt_to"/>

      </Model>


      <Model name="DynamicLocationIDOHActsNonAdlt" formulation="Multinomial Logit" seed="1">
	<!-- Model Updated-->
        <AlternativeSet count="5"/>
	<DependentVariable var="locationid"/>
	<FilterSet type="and"/>
	<Filter table="persons" var="age" condition="less than" value="18"/>
	<Filter table="runtime" var="activitytype" condition="greater than" value="400"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
        <Variable table="travel_skims" var="tt_to" coeff="-.13787556" repeat="tt_to"/>
        <Variable table="runtime,travel_skims" var="activitytype_412,tt_to" coeff="-.03717037" interaction="True" repeat="tt_to"/>
        <Variable table="runtime,travel_skims" var="activitytype_514,tt_to" coeff="-.0420764" interaction="True" repeat="tt_to"/>
        <Variable table="runtime,travel_skims" var="activitytype_415,tt_to" coeff="-.18287555" interaction="True" repeat="tt_to"/>
        <Variable table="locations" var="retail_employment" coeff=".00045979" repeat="retail_employment"/>
        <Variable table="locations" var="total_area" coeff=".05192972" repeat="total_area"/>
        <Variable table="households,travel_skims" var="inclt35k,tt_to" coeff="-.06092847" interaction="True" repeat="tt_to"/>
        <Variable table="locations" var="low_income" coeff="-.00093146" repeat="low_income"/>
        <Variable table="locations" var="high_income" coeff=".00165003" repeat="high_income"/>
        <Variable table="households,travel_skims" var="rur,tt_to" coeff="-.09980193" interaction="True" repeat="tt_to"/>
        <Variable table="locations" var="other_employment_density" coeff=".00008159" repeat="other_employment_density"/>
        <Variable table="locations" var="retail_employment_density" coeff=" -.00016987" repeat="retail_employment_density"/>
        <Variable table="locations" var="office_employment_density" coeff="-.00002314" repeat="office_employment_density"/>
        <Variable table="persons,travel_skims" var="agge15,tt_to" coeff="-.06024264" interaction="True" repeat="tt_to"/>
        <Variable table="households,travel_skims" var="noc,tt_to" coeff=".00012078" interaction="True" repeat="tt_to"/>
      </Model>


      <DynamicSpatialConstraints table="travel_skims" skim_var="tt" as_var="tt_to_loc" dist_var="dist" origin_var="origin" destination_var="destination" after_model="locationid" before_model="tt_to_loc">
	<Start table="households" var="st_locationid"/>
	<End table="runtime" var="locationid"/>
	<ValueofTimePerDistance table="persons_r" var="valueoftimeperdist"/>
      </DynamicSpatialConstraints>

      <DynamicSpatialConstraints table="travel_skims" skim_var="tt" as_var="tt_from_loc" dist_var="dist" origin_var="origin" destination_var="destination" after_model="locationid" before_model="tt_to_loc">
	<Start table="households" var="locationid"/>
	<End table="runtime" var="en_locationid"/>
	<ValueofTimePerDistance table="persons_r" var="valueoftimeperdist"/>
      </DynamicSpatialConstraints>


      <Model name="TT To IH Episodes Recode" formulation="Regression" type="Linear" seed="1">
 	<DependentVariable var="tt_to_loc"/>
	<FilterSet type="and"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
 	<Filter table="runtime" var="st_activitytype" condition="greater than equals" value="100"/>
 	<Filter table="runtime" var="st_activitytype" condition="less than equals" value="101"/>
 	<Filter table="runtime" var="activitytype" condition="equals" value="101"/>
 	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>

      <Model name="TT From IH To IH Episodes Recode" formulation="Regression" type="Linear" seed="1">
 	<DependentVariable var="tt_from_loc"/>
	<FilterSet type="and"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
 	<Filter table="runtime" var="activitytype" condition="equals" value="101"/>
 	<Filter table="runtime" var="en_activitytype" condition="greater than equals" value="100"/>
 	<Filter table="runtime" var="en_activitytype" condition="less than equals" value="101"/>
 	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>


      <Model name="StartTime" formulation="Regression" type="Linear" seed="1">
 	<DependentVariable var="starttime"/>
	<FilterSet type="and"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
 	<Variance value="0"/>
        <Variable table="runtime" var="st_endtime" coeff="1"/>
        <Variable table="runtime" var="tt_to_loc" coeff="1"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>


      <Model name="EndTime" formulation="Regression" type="Linear" seed="1">
 	<DependentVariable var="endtime"/>
	<FilterSet type="and"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
 	<Variance value="0"/>
        <Variable table="runtime" var="starttime" coeff="1"/>
        <Variable table="runtime" var="duration" coeff="1"/>
      </Model>

      <Model name="TempPrismDurationVar" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="prismduration"/>
	<FilterSet type="and"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
	<Variance value="0"/>
        <Variable table="runtime" var="en_starttime" coeff="1"/>
        <Variable table="runtime" var="st_endtime" coeff="-1"/>
        <Variable table="standard" var="one" coeff="-1"/>
      </Model>

      <Model name="DependentPersonId" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="dependentpersonid"/>
	<FilterSet type="and"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
	<Variance value="0"/>
        <Variable1 table="standard" var="one" coeff="0"/>
        <Variable table="runtime" var="st_dependentpersonid" coeff="0"/>
      </Model>

      <Model name="TempActivityTravelEnd" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="activitytravelend"/>
	<FilterSet type="and"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
	<Variance value="0"/>
        <Variable table="runtime" var="endtime" coeff="1"/>
        <Variable table="runtime" var="tt_from_loc" coeff="1"/>
        <Variable table="standard" var="one" coeff="-1"/>
      </Model>


      <Model name="AdjustActivityTravelChoice" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="adjustactivitytravelind"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="locationid" condition="not equals" value="0"/>
	<Filter table="runtime" var="prismduration" condition="greater than" value="15"/>
	<Filter table="runtime" var="endtime" condition="less than" valuetable="runtime" valuevar="en_starttime" percentage_threshold="" absolute_threshold=""/>
	<Filter table="runtime" var="activitytravelend" condition="less than" valuetable="runtime" valuevar="en_starttime"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="-1"/>
      </Model>

      <Model name="DummyModelforCaching" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripcount"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>


      <Model name="DummyModelforCaching" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="dummy"/>
	<FilterSet type="and"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
	<Filter table="trips_to_dta_r" var="persononnetworkflag" condition="equals" value="0"/>
	<Filter table="runtime" var="adjustactivitytravelind" condition="equals" value="-1"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>


    </Component>

	


    <Component name="PersonPrismActivityInformation" read_from_table="schedule_final_r" write_to_table="persons_prism_activities_r" key="houseid,personid" location="True" skip="False" completed="True">
	
	  <LoopComponent start="0" end="2" step="1"/>
	
      <DBTables>
    	<Table table="persons" key="houseid,personid" order="1"/>
    	<Table table="persons_prism_activities_r" key="houseid,personid"/>
    	<Table table="persons_r" key="houseid,personid"/>
    	<Table table="schedule_final_r" key="houseid,personid"/>
		<Table table="trips_to_dta_r" key="houseid,personid"/>
      </DBTables>
	
      <DeleteRecords value="False"/>	

      <PreProcessData name="PreProcessData">
		<Filter table="persons_r" var="informationtype" condition="equals" value="0"/>
		<Filter table="trips_to_dta_r" var="persononnetworkflag" condition="equals" value="1"/>
      </PreProcessData>

      <SpatialConstraints table="travel_skims" skim_var="tt" as_var="tt_to" dist_var="dist" origin_var="origin" destination_var="destination">
	<Start table="schedule_final_r" var="locationid" time_var="endtime"/>
	<End table="schedule_final_r" var="locationid" time_var="starttime"/>
	<ValueofTimePerDistance table="persons_r" var="valueoftimeperdist"/>
      </SpatialConstraints>



      <Model name="RepeatConditionVariableForEndVertex" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="repeat"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>

      <Model name="FirstScheduleId" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="scheduleid"/>
	<Filter table="runtime" var="repeat" condition="equals" value="1"/>
	<Variance value="0"/>
        <Variable table="runtime" var="st_scheduleid" coeff="1"/>
      </Model>

      <Model name="invalidprismflag" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="invalidprismflag"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="en_dependentpersonid" condition="greater than equals" value="100"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>

      <Model name="invalidprismflag" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="invalidprismflag"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="en_dependentpersonid" condition="greater than equals" value="1"/>
	<Filter table="runtime" var="en_dependentpersonid" condition="less than" value="99"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="1"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
        <Variable table="persons" var="age" coeff="0"/> <!-- Dummy variable to call the persons table ... -->
      </Model>




      <Model name="SecondScheduleId" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="scheduleid"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="repeat" condition="equals" value="2"/>

	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="runtime" var="en_scheduleid" coeff="1"/>
      </Model>

      <Model name="DummyLocationId" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="locationid"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="repeat" condition="equals" value="2"/>
	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>






      <Model name="UpdateRepeat" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="repeat"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Filter table="trips_to_dta_r" var="persononnetworkflag" condition="equals" value="0"/>
	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
        <Variable table="runtime" var="repeat" coeff="1"/>
      </Model>


    </Component>

    <Component name="AdjustPrismEndsForInsufficientPrisms" read_from_table="schedule_final_r" write_to_table="schedule_final_r" key="houseid,personid" location="True" skip="False" completed="True">
	
	  <LoopComponent start="0" end="2" step="1"/>
	
      <DBTables>
    	<Table table="persons" key="houseid,personid" order="1"/>
    	<Table table="persons_r" key="houseid,personid"/>
    	<Table table="schedule_final_r" key="houseid,personid"/>
		<Table table="trips_to_dta_r" key="houseid,personid"/>
      </DBTables>
      <DeleteRecords value="False"/>	
      
	  <PreProcessData name="PreProcessData">
		<Filter table="persons_r" var="informationtype" condition="equals" value="0"/>
		<Filter table="trips_to_dta_r" var="persononnetworkflag" condition="equals" value="1"/>
      </PreProcessData>
	  

      <DeleteBasedOn1 table="schedule_final_r" var="scheduleid"/>

      <SpatialConstraints table="travel_skims" skim_var="tt" as_var="tt_to" dist_var="dist" origin_var="origin" destination_var="destination">
	<Start table="schedule_final_r" var="locationid" time_var="endtime"/>
	<End table="schedule_final_r" var="locationid" time_var="starttime"/>
	<ValueofTimePerDistance table="persons_r" var="valueoftimeperdist"/>
      </SpatialConstraints>

      <ConsistencyChecks name="DynamicNonMandatoryChecks">
	<Filter table="runtime" var="starttime" condition="less than equals" valuetable="runtime" valuevar="endtime"/>
      </ConsistencyChecks>


      <Model name="invalidprismflag" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="invalidprismflag"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="en_dependentpersonid" condition="greater than equals" value="100"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="0"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>

      <Model name="invalidprismflag" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="invalidprismflag"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="en_dependentpersonid" condition="greater than equals" value="1"/>
	<Filter table="runtime" var="en_dependentpersonid" condition="less than" value="99"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="1"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>


      <Model name="RepeatConditionVariableForEndVertex" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="repeat"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>

      <DynamicSpatialConstraints table="travel_skims" skim_var="tt" as_var="tt_to" dist_var="dist" origin_var="origin" destination_var="destination" after_model="repeat" before_model="prismdur">
	<Start table="runtime" var="st_locationid"/>
	<End table="runtime" var="en_locationid"/>
	<ValueofTimePerDistance table="persons_r" var="valueoftimeperdist"/>
      </DynamicSpatialConstraints>


      <Model name="PrismDuration" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="prismdur"/>
	<Variance value="0"/>
        <Variable table="runtime" var="st_endtime" coeff="-1"/>
        <Variable table="runtime" var="en_starttime" coeff="1"/>
      </Model>


      <Model name="TravelTimeRecode" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tt_to"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="st_activitytype" condition="less than" value="200"/>
	<Filter table="runtime" var="en_activitytype" condition="less than" value="200"/>
	<Filter table="runtime" var="st_locationid" condition="equals" valuetable="runtime" valuevar="en_locationid"/>
	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>

      <Model name="TravelTimeRecode" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tt_to"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="st_activitytype" condition="equals" value="601"/>
	<Filter table="runtime" var="en_activitytype" condition="less than" value="200"/>
	<Filter table="runtime" var="st_locationid" condition="equals" valuetable="runtime" valuevar="en_locationid"/>
	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>

      <Model name="TravelTimeRecode" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tt_to"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="st_activitytype" condition="equals" value="598"/>
	<Filter table="runtime" var="st_locationid" condition="equals" valuetable="runtime" valuevar="en_locationid"/>
	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>

      <Model name="TravelTimeRecode" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tt_to"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="st_activitytype" condition="less than" value="200"/>
	<Filter table="runtime" var="en_activitytype" condition="greater than equals" value="600"/>
	<Filter table="runtime" var="st_locationid" condition="equals" valuetable="runtime" valuevar="en_locationid"/>
	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>

      <Model name="TravelTimeRecode" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tt_to"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="st_activitytype" condition="equals" value="601"/>
	<Filter table="runtime" var="st_locationid" condition="equals" valuetable="runtime" valuevar="en_locationid"/>
	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>




      <Model name="RandomAdjustmentFactor" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="adjfactor"/>
	<Filter table="runtime" var="prismdur" condition="greater than" valuetable="runtime" valuevar="tt_to"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0.5"/>
      </Model>


      <Model name="RandomAdjustmentFactorRecode" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the adjustment factor -->
	<!-- Filter Description: Start activity is anything but the dummy anchor and end is a pick-up and drop-off act -->
	<DependentVariable var="adjfactor"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="st_activitytype" condition="less than equals" value="597"/>
	<Filter table="runtime" var="en_activitytype" condition="greater than equals" value="600"/>
	<Filter table="runtime" var="prismdur" condition="greater than" valuetable="runtime" valuevar="tt_to"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="RandomAdjustmentFactorRecode" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the adjustment factor -->
	<!-- Filter Description: Start activity is of type OTHER and end is a pick-up and drop-off act -->
	<DependentVariable var="adjfactor"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="st_activitytype" condition="equals" value="599"/>
	<Filter table="runtime" var="en_activitytype" condition="greater than equals" value="600"/>
	<Filter table="runtime" var="prismdur" condition="greater than" valuetable="runtime" valuevar="tt_to"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="RandomAdjustmentFactorRecode" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the adjustment factor -->
	<!-- Filter Description: Start activity is of type dropoff and end is a subsequent pickup with a big prism that cannot be filled by other acts -->
	<DependentVariable var="adjfactor"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="st_activitytype" condition="greater than equals" value="600"/>
	<Filter table="runtime" var="en_activitytype" condition="greater than equals" value="600"/>
	<Filter table="runtime" var="prismdur" condition="greater than" valuetable="runtime" valuevar="tt_to"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>

      <Model name="RandomAdjustmentFactorRecode" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the adjustment factor -->
	<!-- Filter Description: Start activity is of type dropoff and end is a ih dependent childs activity  -->
	<DependentVariable var="adjfactor"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="st_activitytype" condition="equals" value="601"/>
	<Filter table="runtime" var="en_activitytype" condition="greater than" value="150"/>
	<Filter table="runtime" var="en_activitytype" condition="less than" value="200"/>
	<Filter table="runtime" var="prismdur" condition="greater than" valuetable="runtime" valuevar="tt_to"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>

      <Model name="RandomAdjustmentFactorRecode" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the adjustment factor -->
	<!-- Filter Description: Start activity is of type dropoff and end is a oh maintenance activity  -->
	<DependentVariable var="adjfactor"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="st_activitytype" condition="equals" value="601"/>
	<Filter table="runtime" var="en_activitytype" condition="greater than" value="450"/>
	<Filter table="runtime" var="en_activitytype" condition="less than" value="500"/>
	<Filter table="runtime" var="prismdur" condition="greater than" valuetable="runtime" valuevar="tt_to"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>



      <Model name="RandomAdjustmentFactorRecode" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the adjustment factor -->
	<!-- Filter Description: Start activity is a dummy anchor so only extend the subsequent activity -->
	<DependentVariable var="adjfactor"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="st_activitytype" condition="equals" value="598"/>
	<Filter table="runtime" var="prismdur" condition="greater than" valuetable="runtime" valuevar="tt_to"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>

      <Model name="RandomAdjustmentFactorRecode" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the adjustment factor -->
	<!-- Filter Description: Start activity is a dropoff and next activity is in home sojourn then only extend the ih sojourn -->
	<DependentVariable var="adjfactor"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="st_activitytype" condition="equals" value="601"/>
	<Filter table="runtime" var="en_activitytype" condition="equals" value="100"/>
	<Filter table="runtime" var="prismdur" condition="greater than" valuetable="runtime" valuevar="tt_to"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>

      <Model name="RandomAdjustmentFactorRecode" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the adjustment factor -->
	<!-- Filter Description: Start activity is a dropoff and next activity is any activity i.e. is not pickup/dropoff-->
	<DependentVariable var="adjfactor"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="st_activitytype" condition="equals" value="601"/>
	<Filter table="runtime" var="en_activitytype" condition="greater than equals" value="100"/>
	<Filter table="runtime" var="en_activitytype" condition="less than equals" value="599"/>
	<Filter table="runtime" var="en_activitytype" condition="not equals" value="598"/>
	<Filter table="runtime" var="prismdur" condition="greater than" valuetable="runtime" valuevar="tt_to"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>



      <Model name="RandomAdjustmentFactor" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Amount of adjustment to fill the insufficient prism -->
	<!-- Filter Description: Only apply this when the prism duration greater than the travel time to next activity -->
	<DependentVariable var="adjustment"/>
	<Filter table="runtime" var="prismdur" condition="greater than" valuetable="runtime" valuevar="tt_to"/>
	<Variance value="0"/>
        <Variable table="runtime" var="prismdur" coeff="1"/>
        <Variable table="runtime" var="tt_to" coeff="-1"/>
      </Model>


      <Model name="AdjustFirstActEndTime" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Adjust the end of the first anchor activity of the prism -->
	<!-- Filter Description:?? -->
	<DependentVariable var="st_endtime"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="tt_to" condition="equals" value="0"/>
	<Filter table="runtime" var="adjfactor" condition="equals" value="1"/>
	<Filter table="runtime" var="prismdur" condition="less than" value="1"/>
	<Variance value="0"/>
        <Variable table="runtime" var="st_endtime" coeff="1"/>
      </Model>


      <Model name="AdjustFirstActEndTime" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Adjust the end of the first anchor activity of the prism -->
	<!-- Filter Description: Only apply this when the prism duration greater than the travel time to next activity -->
	<DependentVariable var="st_endtime"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="prismdur" condition="greater than" valuetable="runtime" valuevar="tt_to"/>
	<Variance value="0"/>
        <Variable table="runtime" var="st_endtime" coeff="1"/>
        <Variable table="runtime,runtime" var="adjustment,adjfactor" coeff="1" interaction="True"/>
      </Model>


      <Model name="AdjustFirstActEndTime" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Adjust the end of the first anchor activity of the prism -->
	<!-- Filter Description: ?? -->
	<DependentVariable var="st_endtime"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="tt_to" condition="equals" value="0"/>
	<Filter table="runtime" var="adjfactor" condition="equals" value="1"/>
	<Filter table="runtime" var="prismdur" condition="greater than equals" value="1"/>
	<Variance value="0"/>
        <Variable table="runtime" var="st_endtime" coeff="1"/>
        <Variable table="standard" var="one" coeff="-1"/>
      </Model>




      <Model name="AdjustSecondActStartTime" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Adjust the start of the first anchor activity of the prism -->
	<!-- Filter Description: Only apply this when the prism duration greater than the travel time to next activity; also when the tt_to is greater than one-->
	<!-- 			 else the st_endtime and en_starttime become the same causing issues in the prism extraction step -->
	<DependentVariable var="en_starttime"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="prismdur" condition="greater than" valuetable="runtime" valuevar="tt_to"/>
	<Filter table="runtime" var="tt_to" condition="greater than" value="0"/>
	<Variance value="0"/>
        <Variable table="runtime" var="st_endtime" coeff="1"/>
        <Variable table="runtime" var="tt_to" coeff="1"/>
      </Model>

      <Model name="AdjustSecondActStartTime" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Adjust the start of the first anchor activity of the prism -->
	<!-- Filter Description: Only apply this when the prism duration greater than the travel time to next activity; also when the tt_to is greater than one-->
	<!-- 			 else the st_endtime and en_starttime become the same causing issues in the prism extraction step -->
	<DependentVariable var="en_starttime"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="prismdur" condition="greater than" valuetable="runtime" valuevar="tt_to"/>
	<Filter table="runtime" var="tt_to" condition="equals" value="0"/>
	<Variance value="0"/>
        <Variable table="runtime" var="st_endtime" coeff="1"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>





      <Model name="FirstActivityType" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; stores the activittype of the start anchor act of the prism -->
	<!-- Filter Description: In the first pass repeat=0, only the start anchor act attributes are stored -->
	<DependentVariable var="activitytype"/>
	<Filter table="runtime" var="repeat" condition="equals" value="0"/>
	<Variance value="0"/>
        <Variable table="runtime" var="st_activitytype" coeff="1"/>
      </Model>
      <Model name="FirstLocationID" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; stores the locationid of the start anchor act of the prism -->
	<!-- Filter Description: In the first pass repeat=0, only the start anchor act attributes are stored -->
	<DependentVariable var="locationid"/>
	<Filter table="runtime" var="repeat" condition="equals" value="0"/>
	<Variance value="0"/>
        <Variable table="runtime" var="st_locationid" coeff="1"/>
      </Model>
      <Model name="Firststarttime" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; stores the starttime of the start anchor act of the prism -->
	<!-- Filter Description: In the first pass repeat=0, only the start anchor act attributes are stored -->
	<DependentVariable var="starttime"/>
	<Filter table="runtime" var="repeat" condition="equals" value="0"/>
	<Variance value="0"/>
        <Variable table="runtime" var="st_starttime" coeff="1"/>
      </Model>
      <Model name="FirstEndtime" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; stores the endtime of the start anchor act of the prism -->
	<!-- Filter Description: In the first pass repeat=0, only the start anchor act attributes are stored -->
	<DependentVariable var="endtime"/>
	<Filter table="runtime" var="repeat" condition="equals" value="0"/>
	<Variance value="0"/>
        <Variable table="runtime" var="st_endtime" coeff="1"/>
      </Model>
      <Model name="FirstDuration" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; stores the duration of the start anchor act of the prism -->
	<!-- Filter Description: In the first pass repeat=0, only the start anchor act attributes are stored -->
	<DependentVariable var="duration"/>
	<Filter table="runtime" var="repeat" condition="equals" value="0"/>
	<Variance value="0"/>
        <Variable table="runtime" var="endtime" coeff="1"/>
        <Variable table="runtime" var="starttime" coeff="-1"/>
      </Model>
      <Model name="FirstDependentPersonid" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; stores the dependentpersonid of the start anchor act of the prism -->
	<!-- Filter Description: In the first pass repeat=0, only the start anchor act attributes are stored -->
	<DependentVariable var="dependentpersonid"/>
	<Filter table="runtime" var="repeat" condition="equals" value="0"/>
	<Variance value="0"/>
        <Variable table="runtime" var="st_dependentpersonid" coeff="1"/>
      </Model>
      <Model name="FirstTripCount" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; stores the tripcount of the start anchor act of the prism -->
	<!-- Filter Description: In the first pass repeat=0, only the start anchor act attributes are stored -->
	<DependentVariable var="tripcount"/>
	<Filter table="runtime" var="repeat" condition="equals" value="0"/>
	<Variance value="0"/>
        <Variable table="runtime" var="st_tripcount" coeff="1"/>
      </Model>

      <Model name="FirstScheduleId" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; stores the scheduleid of the start anchor act of the prism -->
	<!-- Filter Description: In the first pass repeat=0, only the start anchor act attributes are stored -->
	<DependentVariable var="scheduleid"/>
	<Filter table="runtime" var="repeat" condition="equals" value="0"/>
	<Variance value="0"/>
        <Variable table="runtime" var="st_scheduleid" coeff="1"/>
      </Model>

      <Model name="RepeatConditionVariableForEndVertex" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; updates the counter for storing the end anchor act of the prism in the next pass -->
	<!-- Filter Description: In the first pass repeat=0, only the start anchor act attributes are stored-->
	<DependentVariable var="repeat"/>
	<FilterSet type="or"/>
	<Filter table="runtime" var="repeat" condition="equals" value="0"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>




      <Model name="SecondActivityType" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; stores the activitytype of the end anchor act of the prism -->
	<!-- Filter Description: In the first pass repeat=2, only the end anchor act attributes are stored -->
	<DependentVariable var="activitytype"/>
	<Filter table="runtime" var="repeat" condition="equals" value="2"/>
	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="runtime" var="en_activitytype" coeff="1"/>
      </Model>
      <Model name="FirstLocationID" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; stores the locationid of the end anchor act of the prism -->
	<!-- Filter Description: In the first pass repeat=2, only the end anchor act attributes are stored -->
	<DependentVariable var="locationid"/>
	<Filter table="runtime" var="repeat" condition="equals" value="2"/>
	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="runtime" var="en_locationid" coeff="1"/>
      </Model>
      <Model name="SecondStarttime" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; stores the starttime of the end anchor act of the prism -->
	<!-- Filter Description: In the first pass repeat=2, only the end anchor act attributes are stored -->
	<DependentVariable var="starttime"/>
	<Filter table="runtime" var="repeat" condition="equals" value="2"/>
	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="runtime" var="en_starttime" coeff="1"/>
      </Model>
      <Model name="SecondEndtime" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; stores the endtime of the end anchor act of the prism -->
	<!-- Filter Description: In the first pass repeat=2, only the end anchor act attributes are stored -->
	<DependentVariable var="endtime"/>
	<Filter table="runtime" var="repeat" condition="equals" value="2"/>
	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="runtime" var="en_endtime" coeff="1"/>
      </Model>
      <Model name="SecondDuration" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; stores the duration of the end anchor act of the prism -->
	<!-- Filter Description: In the first pass repeat=2, only the end anchor act attributes are stored -->
	<DependentVariable var="duration"/>
	<Filter table="runtime" var="repeat" condition="equals" value="2"/>
	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="runtime" var="endtime" coeff="1"/>
        <Variable table="runtime" var="starttime" coeff="-1"/>
      </Model>
      <Model name="SecondScheduleId" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; stores the scheduleid of the end anchor act of the prism -->
	<!-- Filter Description: In the first pass repeat=2, only the end anchor act attributes are stored -->
	<DependentVariable var="scheduleid"/>
	<Filter table="runtime" var="repeat" condition="equals" value="2"/>
	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="runtime" var="en_scheduleid" coeff="1"/>
      </Model>
      <Model name="SecondEpisodeDependentPersonId" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; stores the dependentpersonid of the end anchor act of the prism -->
	<!-- Filter Description: In the first pass repeat=2, only the end anchor act attributes are stored -->
	<DependentVariable var="dependentpersonid"/>
	<Filter table="runtime" var="repeat" condition="equals" value="2"/>
	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="runtime" var="en_dependentpersonid" coeff="1"/>
      </Model>
      <Model name="SecondEpisodeTripCount" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; stores the tripcount of the end anchor act of the prism -->
	<!-- Filter Description: In the first pass repeat=2, only the end anchor act attributes are stored -->
	<DependentVariable var="tripcount"/>
	<Filter table="runtime" var="repeat" condition="equals" value="2"/>
	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="runtime" var="en_tripcount" coeff="1"/>
      </Model>



      <Model name="UpdateRepeat" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Array based implementation; updates the counter for storing the start/end anchor act of the prism in subsequent passes of the component -->
	<!-- Filter Description: Only adult info is processed and also only those that are not in the network-->
	<DependentVariable var="repeat"/>
	<FilterSet type="and"/>
	<Filter table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Filter table="trips_to_dta_r" var="persononnetworkflag" condition="equals" value="0"/>
	<RunUntilCondition table="runtime" var="repeat" condition="less than equals" value="2"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
        <Variable table="runtime" var="repeat" coeff="1"/>
        <Variable table="persons" var="age" coeff="0"/> <!-- Dummy variable to call the persons table ... -->
      </Model>

    </Component>

    <Component name="PersonPrismActivitiesOrigDelete" read_from_table="schedule_final_r" write_to_table="persons_prism_activities_r" key="scheduleid" skip="False" completed="True">
      <DBTables>
	<Table table="schedule_final_r" key="scheduleid"/>
    	<Table table="persons_prism_activities_r" key="scheduleid" order="1"/>
      </DBTables>

      <DeleteBasedOn table="schedule_final_r" var="scheduleid"/>

      <Model name="dummy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="houseid"/>
	<Variance value="0"/>
        <Variable table="persons_prism_activities_r" var="houseid" coeff="1"/>
      </Model>

      <Model name="dummy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="personid"/>
	<Variance value="0"/>
        <Variable table="persons_prism_activities_r" var="personid" coeff="1"/>
      </Model>

      <Model name="dummy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="scheduleid"/>
	<Filter table="runtime" var="houseid" condition="equals" value="-1"/>
	<Variance value="0"/>
        <Variable table="persons_prism_activities_r" var="scheduleid" coeff="1"/>
      </Model>

    </Component>


    <Component name="DeleteScheduleIdsFromPersonsPrism" read_from_table="persons_prism_activities_r" key="scheduleid" skip="False" completed="True">
      <DBTables>
    	<Table table="persons_prism_activities_r" key="scheduleid" order="1"/>
      </DBTables>

      <DeleteBasedOn table="persons_prism_activities_r" var="scheduleid"/>

      <Model name="dummy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="houseid"/>
	<Variance value="0"/>
        <Variable table="persons_prism_activities_r" var="houseid" coeff="1"/>
      </Model>

      <Model name="dummy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="personid"/>
	<Variance value="0"/>
        <Variable table="persons_prism_activities_r" var="personid" coeff="1"/>
      </Model>

      <Model name="dummy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="scheduleid"/>
	<Filter table="runtime" var="houseid" condition="equals" value="-1"/>
	<Variance value="0"/>
        <Variable table="persons_prism_activities_r" var="scheduleid" coeff="1"/>
      </Model>

    </Component>

      <Component name="ExtractTravelEpisodesWithHouseholdMembers" read_from_table="schedule_final_r" write_to_table="trips_r" key="houseid,personid" skip="False" completed="True">
	  
		<LoopComponent start="0" end="2" step="1"/>
		
        <DBTables>
    	  <Table table="persons" key="houseid,personid" order="1"/>
    	  <Table table="trips_r" key="houseid,personid"/>
    	  <Table table="persons_r" key="houseid,personid"/>
    	  <Table table="schedule_final_r" key="houseid,personid"/>
    	  <Table table="current_occupancy_r" key="houseid,personid"/>
    	  <Table table="trips_to_dta_r" key="houseid,personid"/>
        </DBTables>
		
		
		<PreProcessData name="PreProcessData">
			<Filter table="persons_r" var="informationtype" condition="equals" value="0"/>
		</PreProcessData>

        <DeleteBasedOn table="current_occupancy_r" var="tripid"/>
        <SpatialConstraints table="travel_skims" skim_var="tt" as_var="tt_to" dist_var="dist" origin_var="origin" destination_var="destination">
	  <Start table="schedule_final_r" var="locationid" time_var="endtime"/>
	  <End table="schedule_final_r" var="locationid" time_var="starttime"/>
	<ValueofTimePerDistance table="persons_r" var="valueoftimeperdist"/>
        </SpatialConstraints>

        <Model name="DummyLocationId" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="locationid"/>
	  <Variance value="0"/>
          <Variable table="runtime" var="locationid" coeff="1"/>
        </Model>

        <Model name="VehicleID" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="vehid"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="1"/>
        </Model>
        <Model name="ModeChoice" formulation="Probability Distribution" seed="1">
          <DependentVariable var="tripmode"/>

          <Alternative id="SOV" value="1">
            <Variable table="standard" var="one" coeff="0.0"/>
          </Alternative>
          <Alternative id="HOVD" value="2">
            <Variable table="standard" var="one" coeff="0.0"/>
          </Alternative>
          <Alternative id="HOVP" value="3">
            <Variable table="standard" var="one" coeff="1.0"/>
          </Alternative>
        </Model>
        <Model name="FromZone" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="fromzone"/>
	  <Variance value="0"/>
          <Variable table="runtime" var="st_locationid" coeff="1"/>
        </Model>
        <Model name="ToZone" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="tozone"/>
	  <Variance value="0"/>
          <Variable table="runtime" var="en_locationid" coeff="1"/>
        </Model>
        <Model name="starttime" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="starttime"/>
	  <Variance value="0"/>
          <Variable table="runtime" var="st_endtime" coeff="1"/>
        </Model>
        <Model name="endtime" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="endtime"/>
	  <Variance value="0"/>
          <Variable table="runtime" var="en_starttime" coeff="1"/>
        </Model>
        <Model name="duration" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="duration"/>
	  <Variance value="0"/>
          <Variable table="runtime" var="starttime" coeff="-1"/>
          <Variable table="runtime" var="endtime" coeff="1"/>
        </Model>
        <Model name="trippurposefrom" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="trippurposefrom"/>
	  <Variance value="0"/>
          <Variable table="runtime" var="st_activitytype" coeff="1"/>
        </Model>

        <Model name="trippurpose" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="trippurpose"/>
	  <Variance value="0"/>
          <Variable table="runtime" var="en_activitytype" coeff="1"/>
        </Model>


        <Model name="validtrip" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="tripind"/>
	  <Filter table="runtime" var="st_locationid" condition="not equals" valuetable="runtime" valuevar="en_locationid"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="1"/>
        </Model>

        <Model name="validtrip" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the valid trip -->
	<!-- Filter Description: when the start loc is same as end loc and acttype is OH work, disc, misc-->

	  <DependentVariable var="tripind"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="st_locationid" condition="equals" valuetable="runtime" valuevar="en_locationid"/>
	  <Filter table="runtime" var="en_activitytype" condition="greater than equals" value="200"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="1"/>
        </Model>

        <Model name="validtrip" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the valid trip -->
	<!-- Filter Description: when the start loc is same as end loc and st acttype is OH work, disc, misc-->

	  <DependentVariable var="tripind"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="st_locationid" condition="equals" valuetable="runtime" valuevar="en_locationid"/>
	  <Filter table="runtime" var="st_activitytype" condition="greater than equals" value="200"/>
	  <Filter table="runtime" var="st_activitytype" condition="less than equals" value="597"/>
	  <Filter table="runtime" var="en_activitytype" condition="less than equals" value="101"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="1"/>
        </Model>

        <Model name="validtrip" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the valid trip -->
	<!-- Filter Description: when the start loc is same as end loc and st acttype is OH other-->

	  <DependentVariable var="tripind"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="st_locationid" condition="equals" valuetable="runtime" valuevar="en_locationid"/>
	  <Filter table="runtime" var="st_activitytype" condition="equals" value="599"/>
	  <Filter table="runtime" var="en_activitytype" condition="less than equals" value="101"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="1"/>
        </Model>

        <Model name="validtrip" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the valid trip -->
	<!-- Filter Description: when the start loc is same as end loc and st acttype is pickup/dropoff and end loc is IH-->

	  <DependentVariable var="tripind"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="st_locationid" condition="equals" valuetable="runtime" valuevar="en_locationid"/>
	  <Filter table="runtime" var="st_activitytype" condition="greater than equals" value="600"/>
	  <Filter table="runtime" var="st_activitytype" condition="less than equals" value="601"/>
	  <Filter table="runtime" var="en_activitytype" condition="less than equals" value="101"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="1"/>
        </Model>



        <Model name="validtrip" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the valid trip -->
	<!-- Filter Description: when the start loc is home and end loc is same and st acttype is IH and end acttype is pickup-->

	  <DependentVariable var="tripind"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="st_locationid" condition="equals" valuetable="runtime" valuevar="en_locationid"/>
	  <Filter table="runtime" var="st_activitytype" condition="less than" value="200"/>
	  <Filter table="runtime" var="en_activitytype" condition="equals" value="600"/>
	  <Filter table="runtime" var="duration" condition="greater than equals" value="0"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="0"/>
        </Model>

        <Model name="validtrip" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the valid trip -->
	<!-- Filter Description: when the start loc is same as end loc which is home and st acttype is dropoff and end acttype is IH-->

	  <DependentVariable var="tripind"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="st_locationid" condition="equals" valuetable="runtime" valuevar="en_locationid"/>
	  <Filter table="runtime" var="st_activitytype" condition="equals" value="601"/>
	  <Filter table="runtime" var="en_activitytype" condition="less than" value="200"/>
	  <Filter table="runtime" var="duration" condition="greater than equals" value="0"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="0"/>
        </Model>


        <Model name="validtrip" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the valid trip -->
	<!-- Filter Description: when the start loc is same as end loc and st acttype is dropoff and end acttype is pickup-->

	  <DependentVariable var="tripind"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="st_locationid" condition="equals" valuetable="runtime" valuevar="en_locationid"/>
	  <Filter table="runtime" var="st_activitytype" condition="equals" value="601"/>
	  <Filter table="runtime" var="en_activitytype" condition="equals" value="600"/>
	  <Filter table="runtime" var="duration" condition="greater than equals" value="0"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="0"/>
        </Model>

        <Model name="validtrip" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the valid trip -->
	<!-- Filter Description: st acttype is pickup and and end acttype is Dropoff-->

	  <DependentVariable var="tripind"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="st_activitytype" condition="equals" value="600"/>
	  <Filter table="runtime" var="en_activitytype" condition="equals" value="601"/>
	  <Filter1 table="runtime" var="duration" condition="greater than equals" value="0"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="1"/>
        </Model>

        <Model name="validtrip" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the valid trip -->
	<!-- Filter Description: joint maintenance activity so no trip between dropoff and subsequent act-->

	  <DependentVariable var="tripind"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="st_activitytype" condition="equals" value="601"/>
	  <Filter table="runtime" var="en_activitytype" condition="greater than equals" value="450"/>
	  <Filter table="runtime" var="en_activitytype" condition="less than equals" value="499"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="0"/>
        </Model>
        <Model name="validtrip" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the valid trip -->
	<!-- Filter Description: joint maintenance activity so no trip between activity and pickup-->

	  <DependentVariable var="tripind"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="st_activitytype" condition="greater than equals" value="450"/>
	  <Filter table="runtime" var="st_activitytype" condition="less than equals" value="499"/>
	  <Filter table="runtime" var="en_activitytype" condition="equals" value="600"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="0"/>
        </Model>


        <Model name="validtrip" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the valid trip -->
	<!-- Filter Description:  when the start loc is same as end loc and st acttype is work and end acttype is work-->

	  <DependentVariable var="tripind"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="st_locationid" condition="equals" valuetable="runtime" valuevar="en_locationid"/>
	  <Filter table="runtime" var="st_activitytype" condition="equals" value="200"/>
	  <Filter table="runtime" var="en_activitytype" condition="equals" value="200"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="0"/>
        </Model>

        <Model name="validtrip" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the valid trip -->
	<!-- Filter Description:  when the start loc is same as end loc and st acttype is pickup and end loc is an in home dependent act engagement-->

	  <DependentVariable var="tripind"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="st_locationid" condition="equals" valuetable="runtime" valuevar="en_locationid"/>
	  <Filter table="runtime" var="st_activitytype" condition="equals" value="600"/>
	  <Filter table="runtime" var="en_activitytype" condition="equals" value="151"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="1"/>
        </Model>

        <Model name="validtrip" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the valid trip -->
	<!-- Filter Description:  when the start loc is same as end loc and st acttype is the dummy anchor 598-->

	  <DependentVariable var="tripind"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="st_locationid" condition="equals" valuetable="runtime" valuevar="en_locationid"/>
	  <Filter table="runtime" var="st_activitytype" condition="equals" value="598"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="0"/>
        </Model>

        <Model1 name="validtrip" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the valid trip -->
	<!-- Filter Description:  when the start loc is same as end loc and st acttype is the dummy anchor 598-->

	  <DependentVariable var="tripind"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="st_locationid" condition="equals" valuetable="runtime" valuevar="en_locationid"/>
	  <Filter table="runtime" var="st_activitytype" condition="equals" value="598"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="0"/>
        </Model1>


        <Model name="validtrip" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the valid trip -->
	<!-- Filter Description:  when the person is still on the network-->

	  <DependentVariable var="tripind"/>
          <FilterSet type="and"/>
          <Filter table="trips_to_dta_r" var="persononnetworkflag" condition="equals" value="1"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="0"/>
        </Model>



        <Model name="pickupcount" formulation="Regression" type="Approx Log" seed="1">
	  <DependentVariable var="pickupcount"/>
          <FilterSet type="and"/>
	  <Variance value="100"/>
          <Variable table="runtime" var="st_dependentpersonid" coeff="1"/>
        </Model>

        <Model name="dropoffcount" formulation="Regression" type="Approx Log" seed="1">
	  <DependentVariable var="dropoffcount"/>
          <FilterSet type="and"/>
	  <Variance value="100"/>
          <Variable table="runtime" var="st_dependentpersonid" coeff="1"/>
        </Model>

        <Model name="PrevDepPerId" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="lasttripdependentpersonid"/>
	  <Variance value="0"/>
          <Variable table="current_occupancy_r" var="dependentpersonid" coeff="1"/>
        </Model>


        <Model name="PrevOccupancy" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="lastoccupancy"/>
	  <Variance value="0"/>
          <Variable table="current_occupancy_r" var="occupancy" coeff="1"/>
        </Model>

        <Model name="PrevTripCount" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="lasttripcount"/>
	  <Variance value="0"/>
          <Variable table="current_occupancy_r" var="tripcount" coeff="1"/>
        </Model>


        <Model name="occupancy_d" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the occupancy -->
	<!-- Filter Description: when the start activity is not pickup and dropoff and this is the first trip -->
	  <DependentVariable var="occupancy_d"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="trippurposefrom" condition="not equals" value="600"/>
	  <Filter table="runtime" var="trippurposefrom" condition="not equals" value="601"/>
	  <Filter table="current_occupancy_r" var="occupancy" condition="equals" value="0"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="1"/>
        </Model>
        <Model name="occupancy_d" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the occupancy -->
	<!-- Filter Description: when the start activity is not pickup and dropoff and this is not the first trip -->
	  <DependentVariable var="occupancy_d"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="trippurposefrom" condition="not equals" value="600"/>
	  <Filter table="runtime" var="trippurposefrom" condition="not equals" value="601"/>
	  <Filter table="current_occupancy_r" var="occupancy" condition="not equals" value="0"/>
	  <Variance value="0"/>
          <Variable table="current_occupancy_r" var="occupancy" coeff="1"/>
        </Model>


        <Model name="occupancy_d" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the occupancy -->
	<!-- Filter Description: when the start activity is pickup and this is the first trip -->
	  <DependentVariable var="occupancy_d"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="trippurposefrom" condition="equals" value="600"/>
	  <Filter table="current_occupancy_r" var="occupancy" condition="equals" value="0"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="1"/>
          <Variable table="runtime" var="pickupcount" coeff="1"/>
        </Model>
        <Model name="occupancy_d" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the occupancy -->
	<!-- Filter Description: when the start activity is pickup and this is not the first trip -->
	  <DependentVariable var="occupancy_d"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="trippurposefrom" condition="equals" value="600"/>
	  <Filter table="current_occupancy_r" var="occupancy" condition="not equals" value="0"/>
	  <Variance value="0"/>
          <Variable table="current_occupancy_r" var="occupancy" coeff="1"/>
          <Variable table="runtime" var="pickupcount" coeff="1"/>
        </Model>



        <Model name="occupancy_d" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the occupancy -->
	<!-- Filter Description: when the start activity is dropoff -->
	  <DependentVariable var="occupancy_d"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="trippurposefrom" condition="equals" value="601"/>
	  <Variance value="0"/>
          <Variable table="current_occupancy_r" var="occupancy" coeff="1"/>
          <Variable table="runtime" var="dropoffcount" coeff="-1"/>
        </Model>

        <Model name="occupancy" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the occupancy back to the original variable for storing only when the person is not on the network-->
	  <DependentVariable var="occupancy"/>
          <FilterSet type="and"/>
          <Filter table="trips_to_dta_r" var="persononnetworkflag" condition="not equals" value="1"/>
	  <Variance value="0"/>
          <Variable table="runtime" var="occupancy_d" coeff="1"/>
        </Model>

        <Model name="DummyCurrDepPerId" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="trip_tripcount"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="0"/>
        </Model>

        <Model name="dependentpersonid" formulation="Trip Occupant Processing" seed="1">
	<!-- Model Description: Recode the occupancy -->
	<!-- Filter Description: when the start activity is dropoff -->
	  <DependentVariable var="trip_dependentpersonid"/>
	  <Id>
	    <HouseId table="trips_r" var="houseid"/>
	    <PersonId table="trips_r" var="personid"/>
	  </Id>

	  <TripDependentPersonAttributes>
	    <TripPurposeFrom table="runtime" var="trippurposefrom"/>
	    <TripDependentPersonIdName table="runtime" var="trip_dependentpersonid"/>
	    <StActDependentPersonIdName table="runtime" var="st_dependentpersonid"/>
	    <EnActDependentPersonIdName table="runtime" var="en_dependentpersonid"/>
	    <LastTripDependentPersonIdName table="current_occupancy_r" var="dependentpersonid"/>
	    <PersonOnNetwork table="trips_to_dta_r" var="persononnetworkflag"/>
	    <TripCountName table="runtime" var="trip_tripcount"/>
	    <StActTripCountName table="runtime" var="st_tripcount"/>
	    <EnActTripCountName table="runtime" var="en_tripcount"/>
	    <LastTripCountName table="current_occupancy_r" var="tripcount"/>	   
	  </TripDependentPersonAttributes>
        </Model>

        <Model name="CurrDepPerId" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="dependentpersonid"/>
	  <Variance value="0"/>
          <Variable table="runtime" var="trip_dependentpersonid" coeff="1"/>
        </Model>

        <Model name="CurrDepPerId" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="tripcount"/>
	  <Variance value="0"/>
          <Variable table="runtime" var="trip_tripcount" coeff="1"/>
        </Model>

        <Model name="tripwithhhmember" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the trip with hh member indicator -->
	  <DependentVariable var="tripwithhhmember"/>
          <FilterSet type="and"/>
	  <Filter table="persons_r" var="dependency" condition="equals" value="0"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="1"/>
        </Model>


        <Model name="starttripCount" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="starttripcount"/>
	  <Variance value="0"/>
          <Variable table="runtime" var="st_tripcount" coeff="1"/>
        </Model>

        <Model name="endtripCount" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="endtripcount"/>
	  <Variance value="0"/>
          <Variable table="runtime" var="en_tripcount" coeff="1"/>
        </Model>
        <Model name="StartDependentPersonId" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="startdependentpersonid"/>
	  <Variance value="0"/>
          <Variable table="runtime" var="st_dependentpersonid" coeff="1"/>
        </Model>

        <Model name="EndDependentPersonId" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="enddependentpersonid"/>
	  <Variance value="0"/>
          <Variable table="runtime" var="en_dependentpersonid" coeff="1"/>
        </Model>


        <Model name="tripwithhhmemberRecode" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the trip with hh member indicator -->
	<!-- Filter Description: when the start activity is dropoff -->
	  <DependentVariable var="tripwithhhmember"/>
          <FilterSet type="and"/>
	  <Filter table="persons_r" var="dependency" condition="equals" value="1"/>
	  <Filter table="runtime" var="st_activitytype" condition="equals" value="600"/>
	  <Filter table="runtime" var="en_activitytype" condition="equals" value="601"/>
	  <Filter table="runtime" var="st_dependentpersonid" condition="equals" value="99"/>
	  <Filter table="runtime" var="en_dependentpersonid" condition="equals" value="99"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="2"/>
        </Model>

        <Model name="validtrip" formulation="Regression" type="Linear" seed="1">
	<!-- Model Description: Recode the valid trip -->
	<!-- Filter Description: joint maintenance activity so no trip between activity and pickup-->

	  <DependentVariable var="tripind"/>
          <FilterSet type="and"/>
	  <Filter table="runtime" var="tripwithhhmember" condition="equals" value="0"/>
	  <Variance value="0"/>
          <Variable table="standard" var="one" coeff="0"/>
        </Model>

        <Model name="CurrOccTripID" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="currocctripid"/>
          <FilterSet type="and"/>
	  <Filter1 table="persons_r" var="dependency" condition="equals" value="0"/>
	  <Filter table="runtime" var="tripwithhhmember" condition="greater than equals" value="1"/>
	  <Variance value="0"/>
          <Variable table="current_occupancy_r" var="tripid" coeff="1"/>
          <Variable table="persons" var="age" coeff="0"/> <!-- Dummy variable to call the persons table ... -->
        </Model>
		
		<!--	
	  <Model name="ValueOfTime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="valueoftime"/>
	<Variance value="0"/>
        <Variable table="persons_r" var="valueoftime" coeff="1"/>
      </Model>
	  
	  
	  <Model name="InformationType" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="informationtype"/>
	<Variance value="0"/>
        <Variable table="persons_r" var="informationtype" coeff="1"/>
      </Model> 
	  -->

      </Component>









    <Component name="PersonsLeaving" read_from_table="trips_r" write_to_table="persons_leaving_id_r" skip="False" completed="True">
      <DBTables>
	<Table table="trips_r" key="houseid,personid" order="1"/>
    	<Table table="persons_leaving_id_r" key="houseid,personid"/>
      </DBTables>

      <AnalysisIntervalFilter table="trips_r" var="starttime"/>

      <Model name="TripId" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripiddummy"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="tripid" coeff="1"/>
      </Model>

      <Model1 name="PersonUniqueIdDummy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="personuniqueiddummy"/>
	<Variance value="0"/>
        <Variable table="persons" var="personuniqueid" coeff="1"/>
      </Model1>


      <Model name="FromZone" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="fromzone"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="fromzone" coeff="1"/>
      </Model>

      <Model name="triptype" formulation="Persons On Trip Arrival Processing" seed="1">
	<DependentVariable var="triptype"/>
	<Filter table="trips_r" var="tripind" condition="equals" value="1"/>
	<Id>
	  <HouseId table="trips_r" var="houseid"/>
	  <PersonId table="trips_r" var="personid"/>
	</Id>
	<PersonsArrivedAttributes>
	  <TripDependentPersonIdName table="trips_r" var="dependentpersonid"/>
	  <TripCountName1 table="trips_r" var="starttripcount"/>
	  <TripCountName table="trips_r" var="tripcount"/>
	  <ActDependentPersonIdName table="trips_r" var="startdependentpersonid"/>
	</PersonsArrivedAttributes>
      </Model>

      <Model name="tripcount" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripcount"/>
	<Filter table="trips_r" var="tripind" condition="equals" value="1"/>
	<Variance value="0"/>
        <Variable1 table="trips_r" var="starttripcount" coeff="1"/>
        <Variable table="trips_r" var="tripcount" coeff="1"/>
      </Model>



   </Component>


    <Component name="CheckPersonsAtSameOrigin" read_from_table="persons_leaving_id_r" write_to_table="trips_occupant_origin_invalid_r" skip="False" completed="True">
      <DBTables>
    	<Table table="persons_leaving_id_r" key="houseid,personid" order="1"/>
    	<Table table="persons_location_r" key="houseid,personid"/>
    	<Table table="persons" key="houseid,personid"/>
    	<Table table="trips_occupant_origin_invalid_r" key="houseid,personid"/>
	<Table table="persons_r" key="houseid,personid"/>
      </DBTables>

      <AnalysisIntervalFilter table="persons_leaving_id_r" var="starttime"/>

      <Model name="tripvalid" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripvalid"/>
	<Filter table="persons_location_r" var="location" condition="equals" valuetable="persons_leaving_id_r" valuevar="fromzone"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>

      <Model name="tripvalid" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripvalid"/>
	<Filter table="persons_location_r" var="location" condition="not equals" valuetable="persons_leaving_id_r" valuevar="fromzone"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="-1"/>
      </Model>


      <Model name="tripcountDiff" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripcountdiff"/>
	<Variance value="0"/>
        <Variable table="persons_leaving_id_r" var="tripcount" coeff="1"/>
        <Variable table="persons_location_r" var="lasttripcount" coeff="-1"/>
      </Model>


      <Model name="tripvalidrecode" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripvalid"/>
	<Variance value="0"/>
        <FilterSet type="and"/>
	<Filter table="persons_r" var="dependency" condition="equals" value="1"/>
	<Filter table="runtime" var="tripcountdiff" condition="not equals" value="1"/>
        <Variable table="standard" var="one" coeff="-1"/>
      </Model>

      <Model name="tripstarttime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripstarttime"/>
	<Variance value="0"/>
        <Variable table="runtime" var="starttime" coeff="1"/>
      </Model>

      <Model name="tripstarttime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripstarttime"/>
	<Variance value="0"/>
        <Variable table="runtime" var="starttime" coeff="1"/>
      </Model>

      <Model name="UniqueTripId" formulation="Identify Unique" seed="1">
	<DependentVariable var="tripiddummy"/>
	<Filter table="runtime" var="tripvalid" condition="equals" value="-1"/>
	<Variance value="0"/>
        <Variable table="persons_leaving_id_r" var="tripid" coeff="1"/>
      </Model>


   </Component>



    <Component name="TripsPersonIDWhereOccupantsNotAtTheOrigin" read_from_table="trips_occupant_origin_invalid_r" write_to_table="person_trips_occupant_origin_invalid_r" skip="False" completed="True">
      <DBTables>
    	<Table table="trips_occupant_origin_invalid_r" key="tripid" order="1"/>
    	<Table table="trips_r" key="tripid"/>
    	<Table table="person_trips_occupant_origin_invalid_r" key="tripid"/>
      </DBTables>

      <AnalysisIntervalFilter table="trips_occupant_origin_invalid_r" var="tripstarttime"/>

      <Model name="houseid" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="houseid"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="houseid" coeff="1"/>
      </Model>
      <Model name="personid" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="personid"/>
	<Filter table="trips_occupant_origin_invalid_r" var="tripvalid" condition="equals" value="-1"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="personid" coeff="1"/>
      </Model>

      <Model1 name="tripstarttime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripstarttime"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="starttime" coeff="1"/>
      </Model1>


   </Component>













    <Component name="OccupantProcessing" read_from_table="schedule_final_r" key="houseid,personid" location="True" delete_and_append="True" skip="False" completed="True">
      <DBTables>
    	<Table table="schedule_final_r" key="houseid,personid" order="1"/>
    	<Table table="persons_r" key="houseid,personid"/>
    	<Table table="person_trips_occupant_origin_invalid_r" key="houseid,personid"/>
      </DBTables>

      <DeleteBasedOn table="schedule_final_r" var="scheduleid"/>
      <AnalysisIntervalFilter table="person_trips_occupant_origin_invalid_r" var="tripstarttime"/>

      <Model name="ArrivalInformationProcessing" formulation="Schedule Adjustment" type="Occupancy Invalid" seed="1">
	<DependentVariable var="childdependencyallocation"/>

	<ActivityAttributes>
	  <HouseholdIdName table="schedule_final_r" var="houseid"/>
	  <PersonIdName table="schedule_final_r" var="personid"/>
	  <ScheduleIdName table="schedule_final_r" var="scheduleid"/>
	  <ActivityTypeName table="schedule_final_r" var="activitytype"/>
	  <LocationIdName table="schedule_final_r" var="locationid"/>
	  <StartTimeName table="schedule_final_r" var="starttime"/>
	  <EndTimeName table="schedule_final_r" var="endtime"/>
	  <DurationName table="schedule_final_r" var="duration"/>
	  <DependentPersonName table="schedule_final_r" var="dependentpersonid"/>
	  <TripCountName table="schedule_final_r" var="tripcount"/>
	</ActivityAttributes>

	<DailyStatus>
	  <DailySchoolStatus table="persons_r" var="schdailystatus"/>
	  <DailyWorkStatus table="persons_r" var="wrkdailystatus"/>
	</DailyStatus>
	
	<Dependency>
	  <ChildDependency table="persons_r" var="dependency"/>
	</Dependency>
	
	<OccupancyInvalid>
	  <TripInd table="person_trips_occupant_origin_invalid_r" var="tripvalid"/>
	  <StartTime table="person_trips_occupant_origin_invalid_r" var="tripstarttime"/>
	</OccupancyInvalid>


      </Model>

    </Component>


      <Component name="DeleteInvalidTripsPersonIDsWithOccupancyIssues" read_from_table="person_trips_occupant_origin_invalid_r" skip="False" completed="True">
        <DBTables>
    	<Table table="person_trips_occupant_origin_invalid_r" key="tripid" order="1"/>
        </DBTables>
        <DeleteBasedOn table="person_trips_occupant_origin_invalid_r" var="tripid"/>

      <Model name="starttime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="starttime"/>
	<Filter table="person_trips_occupant_origin_invalid_r" var="tripid" condition="equals" value="-1"/>
	<Variance value="0"/>
        <Variable table="person_trips_occupant_origin_invalid_r" var="tripid" coeff="1"/>
      </Model>


      </Component>



      <Component name="RevertOccupancyForInvalidOccupantTrip" read_from_table="trips_r" write_to_table="current_occupancy_r" skip="False" completed="True">
        <DBTables>
    	<Table table="trips_r" key="tripid" order="1"/>
    	<Table table="trips_occupant_origin_invalid_r" key="tripid"/>
    	<Table table="current_occupancy_r" key="tripid"/>
        </DBTables>

      <AnalysisIntervalFilter table="trips_occupant_origin_invalid_r" var="tripstarttime"/>

        <Model name="dummyhouseid" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="dummyhouseid"/>
	  <Variance value="0"/>
          <Variable table="trips_r" var="houseid" coeff="1"/>
        </Model>

        <Model name="dummypersonid" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="dummypersonid"/>
	  <Variance value="0"/>
          <Variable table="trips_r" var="personid" coeff="1"/>
        </Model>


        <Model name="dependentpersonid" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="dependentpersonid"/>
	  <Variance value="0"/>
          <Variable table="trips_r" var="lasttripdependentpersonid" coeff="1"/>
        </Model>

        <Model name="tripcount" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="tripcount"/>
	  <Variance value="0"/>
          <Variable table="trips_r" var="lasttripcount" coeff="1"/>
        </Model>

        <Model name="occupancy" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="occupancy"/>
	  <Variance value="0"/>
          <Variable table="trips_r" var="lastoccupancy" coeff="1"/>
        </Model>

      <Model name="dummy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="starttime"/>
	<Filter table="trips_occupant_origin_invalid_r" var="tripvalid" condition="equals" value="-1"/>
	<Variance value="0"/>
        <Variable table="trips_occupant_origin_invalid_r" var="tripid" coeff="1"/>
      </Model>
      </Component>


      <Component name="DeleteInvalidOccupantTrip" read_from_table="trips_r" skip="False" completed="True">
        <DBTables>
    	<Table table="trips_r" key="tripid" order="1"/>
    	<Table table="trips_occupant_origin_invalid_r" key="tripid"/>
        </DBTables>
        <DeleteBasedOn table="trips_r" var="tripid"/>
      <AnalysisIntervalFilter table="trips_occupant_origin_invalid_r" var="tripstarttime"/>


      <Model name="dummy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="starttime"/>
	<Filter table="trips_occupant_origin_invalid_r" var="tripid" condition="equals" value="-1"/>
	<Variance value="0"/>
        <Variable table="trips_occupant_origin_invalid_r" var="tripid" coeff="1"/>
      </Model>


      </Component>










      <Component name="OccupancyValidTrip" read_from_table="trips_r" write_to_table="current_occupancy_r" key="tripid" skip="False" completed="True">
        <DBTables>
    	  <Table table="persons" key="houseid,personid"/>
    	  <Table table="trips_r" key="houseid,personid" order="1"/>
    	  <Table table="current_occupancy_r" key="tripid"/>
        </DBTables>

        <AnalysisIntervalFilter table="trips_r" var="starttime"/>


        <Model name="occupancy" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="occupancy"/>
          <FilterSet type="and"/>
	  <Filter table="trips_r" var="trippurposefrom" condition="equals" value="601"/>
	  <Variance value="0"/>
          <Variable table="trips_r" var="occupancy" coeff="1"/>
        </Model>

        <Model name="dummyhouseid" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="dummyhouseid"/>
	  <Variance value="0"/>
          <Variable table="trips_r" var="houseid" coeff="1"/>
        </Model>

        <Model name="dummypersonid" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="dummypersonid"/>
	  <Variance value="0"/>
          <Variable table="trips_r" var="personid" coeff="1"/>
        </Model>


        <Model name="tripid" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="tripid"/>
	  <Variance value="0"/>
          <Variable table="trips_r" var="tripid" coeff="1"/>
        </Model>

        <Model name="dummydependentpersonid" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="dependentpersonid"/>
	  <Variance value="0"/>
          <Variable table="trips_r" var="dependentpersonid" coeff="1"/>
        </Model>

        <Model name="dummytripcount" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="tripcount"/>
	  <Variance value="0"/>
          <Variable table="trips_r" var="tripcount" coeff="1"/>
        </Model>

      </Component>

      <Component name="InvalidTrip" read_from_table="trips_r" write_to_table="trips_invalid_r" key="tripid" skip="False" completed="True">
        <DBTables>
    	  <Table table="trips_r" key="tripid" order="1"/>
    	  <Table table="trips_invalid_r" key="tripid"/>
        </DBTables>

        <AnalysisIntervalFilter table="trips_r" var="starttime"/>


        <Model name="dummytripind" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="dummytripind"/>
	  <Filter table="trips_r" var="tripind" condition="equals" value="0"/>
	  <Variance value="0"/>
          <Variable table="trips_r" var="tripind" coeff="1"/>
        </Model>

      </Component>

    <Component name="ProcessingArrivalForIHTOIHTrips" read_from_table="trips_r" write_to_table="persons_arrived_r" skip="False" completed="True">
      <DBTables>
    	<Table table="trips_r" key="houseid,personid" order="1"/>
    	<Table table="persons_arrived_r" key="houseid,personid"/>
    	<Table table="households" key="houseid"/>
    	<Table table="persons" key="houseid,personid"/>
      </DBTables>

      <AnalysisIntervalFilter table="trips_r" var="starttime"/>

      <Model name="tripid" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripid"/>
        <FilterSet type="and"/>
	<Filter table="trips_r" var="trippurpose" condition="equals" value="601"/>
	<Filter table="trips_r" var="trippurposefrom" condition="equals" value="601"/>
	<Filter table="trips_r" var="fromzone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tozone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tripind" condition="equals" value="1"/>

	<Variance value="0"/>
        <Variable table="trips_r" var="tripid" coeff="1"/>
      </Model>

      <Model name="ActualStartTime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="expectedstarttime"/>
        <FilterSet type="and"/>
	<Filter table="trips_r" var="trippurpose" condition="equals" value="601"/>
	<Filter table="trips_r" var="trippurposefrom" condition="equals" value="601"/>
	<Filter table="trips_r" var="fromzone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tozone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tripind" condition="equals" value="1"/>

	<Variance value="0"/>
        <Variable table="trips_r" var="starttime" coeff="1"/>
      </Model>

      <Model name="ExpectedArrivalTime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="expectedarrivaltime"/>
        <FilterSet type="and"/>
	<Filter table="trips_r" var="trippurpose" condition="equals" value="601"/>
	<Filter table="trips_r" var="trippurposefrom" condition="equals" value="601"/>
	<Filter table="trips_r" var="fromzone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tozone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tripind" condition="equals" value="1"/>

	<Variance value="0"/>
        <Variable table="trips_r" var="endtime" coeff="1"/>
      </Model>

      <Model name="FromZone" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="fromzonedummy"/>
        <FilterSet type="and"/>
	<Filter table="trips_r" var="trippurpose" condition="equals" value="601"/>
	<Filter table="trips_r" var="trippurposefrom" condition="equals" value="601"/>
	<Filter table="trips_r" var="fromzone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tozone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tripind" condition="equals" value="1"/>

	<Variance value="0"/>
        <Variable table="trips_r" var="fromzone" coeff="1"/>
      </Model>
      <Model name="ToZone" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tozonedummy"/>
        <FilterSet type="and"/>
	<Filter table="trips_r" var="trippurpose" condition="equals" value="601"/>
	<Filter table="trips_r" var="trippurposefrom" condition="equals" value="601"/>
	<Filter table="trips_r" var="fromzone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tozone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tripind" condition="equals" value="1"/>

	<Variance value="0"/>
        <Variable table="trips_r" var="tozone" coeff="1"/>
      </Model>

      <Model name="triptype" formulation="Persons On Trip Arrival Processing" seed="1">
	<DependentVariable var="triptype"/>
        <FilterSet type="and"/>
	<Filter table="trips_r" var="trippurpose" condition="equals" value="601"/>
	<Filter table="trips_r" var="trippurposefrom" condition="equals" value="601"/>
	<Filter table="trips_r" var="fromzone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tozone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tripind" condition="equals" value="1"/>

	<Id>
	  <HouseId table="trips_r" var="houseid"/>
	  <PersonId table="trips_r" var="personid"/>
	</Id>

	<PersonsArrivedAttributes>
	  <TripDependentPersonIdName table="trips_r" var="dependentpersonid"/>
	  <EndTripCountName table="trips_r" var="endtripcount"/>
	  <TripCountName table="trips_r" var="tripcount"/>
	  <ActDependentPersonIdName table="trips_r" var="enddependentpersonid"/>
	</PersonsArrivedAttributes>

	<PersonsArrivedAttributes1>
	  <TripDependentPersonIdName1 table="trips_r" var="dependentpersonid"/>
	  <TripCountName1 table="trips_r" var="endtripcount"/>
	  <TripCountName1 table="trips_r" var="tripcount"/>
	  <ActDependentPersonIdName table="trips_r" var="enddependentpersonid"/>
	</PersonsArrivedAttributes1>

      </Model>

      <Model name="TripCount" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripcount"/>
        <FilterSet type="and"/>
	<Filter table="trips_r" var="trippurpose" condition="equals" value="601"/>
	<Filter table="trips_r" var="trippurposefrom" condition="equals" value="601"/>
	<Filter table="trips_r" var="fromzone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tozone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tripind" condition="equals" value="1"/>
	<Variance value="0"/>
        <Variable1 table="trips_r" var="endtripcount" coeff="1"/>
        <Variable table="trips_r" var="tripcount" coeff="1"/>
      </Model>


      <Model name="TripDependentPersonId" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripdependentpersonid"/>
        <FilterSet type="and"/>
	<Filter table="trips_r" var="trippurpose" condition="equals" value="601"/>
	<Filter table="trips_r" var="trippurposefrom" condition="equals" value="601"/>
	<Filter table="trips_r" var="fromzone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tozone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tripind" condition="equals" value="1"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="dependentpersonid" coeff="1"/>
      </Model>


      <Model name="actualarrivaltime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="actualarrivaltime"/>
        <FilterSet type="and"/>
	<Filter table="trips_r" var="trippurpose" condition="equals" value="601"/>
	<Filter table="trips_r" var="trippurposefrom" condition="equals" value="601"/>
	<Filter table="trips_r" var="fromzone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tozone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tripind" condition="equals" value="1"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="starttime" coeff="1"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>

    </Component>

    <Component name="ProcessingDeleteForIHTOIHTrips" read_from_table="trips_r" write_to_table="trips_invalid_r" skip="False" completed="True">
      <DBTables>
    	<Table table="trips_r" key="houseid,personid" order="1"/>
    	<Table table="trips_invalid_r" key="tripid"/>
    	<Table table="households" key="houseid"/>
      </DBTables>

      <AnalysisIntervalFilter table="trips_r" var="starttime"/>

      <Model name="tripid" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripid"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="tripid" coeff="1"/>
      </Model>

      <Model name="tripind" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripind"/>
        <FilterSet type="and"/>
	<Filter table="trips_r" var="trippurpose" condition="equals" value="601"/>
	<Filter table="trips_r" var="trippurposefrom" condition="equals" value="601"/>
	<Filter table="trips_r" var="fromzone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tozone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tripind" condition="equals" value="1"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="tripind" coeff="1"/>
      </Model>
    </Component>

      <Component name="DeleteInvalidTrip" read_from_table="trips_r" write_to_table="trips_invalid_r" key="tripid" skip="False" completed="True">
        <DBTables>
    	  <Table table="trips_r" key="tripid"/>
    	  <Table table="trips_invalid_r" key="tripid" order="1"/>
        </DBTables>
        <DeleteBasedOn table="trips_r" var="tripid"/>

        <Model name="dummytripind" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="dummytripind"/>
	  <Filter table="trips_r" var="tripind" condition="equals" value="99"/>
	  <Variance value="0"/>
          <Variable table="trips_invalid_r" var="tripind" coeff="1"/>
        </Model>

      </Component>





      <Component name="ResetInvalidTrip" read_from_table="trips_invalid_r" key="tripid" skip="False" completed="True">
        <DBTables>
    	  <Table table="trips_invalid_r" key="tripid" order="1"/>
        </DBTables>
        <DeleteBasedOn table="trips_invalid_r" var="tripid"/>

        <Model name="dummytripind" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="dummytripind"/>
	  <Filter table="trips_invalid_r" var="tripind" condition="equals" value="99"/>
	  <Variance value="0"/>
          <Variable table="trips_invalid_r" var="tripind" coeff="1"/>
        </Model>

      </Component>


    <Component name="ProcessingArrivalForEpisodesWithNonHHMembers" read_from_table="trips_r" write_to_table="trips_arrival_from_dta_r" skip="False" completed="True">
	
	  <LoopComponent start="0" end="2" step="1"/>
	
      <DBTables>
    	<Table table="trips_r" key="houseid,personid" order="1"/>
    	<Table table="persons_r" key="houseid,personid"/>
    	<Table table="trips_arrival_from_dta_r" key="tripid"/>
      </DBTables>

      <AnalysisIntervalFilter table="trips_r" var="starttime"/>
	  
	  <PreProcessData name="PreProcessData">
		<Filter table="persons_r" var="informationtype" condition="equals" value="0"/>
	  </PreProcessData>

      <Model name="dummy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="dummy"/>
	<Filter table="trips_r" var="tripwithhhmember" condition="equals" value="2"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="fromzone" coeff="0"/>
        <Variable table="trips_r" var="tozone" coeff="0"/>
        <Variable table="trips_r" var="tripid" coeff="0"/>
      </Model>


      <Model name="arrivaltime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="arrivaltime"/>
	<Filter table="trips_r" var="tripwithhhmember" condition="equals" value="2"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="endtime" coeff="1"/>
      </Model>

      <DynamicSpatialConstraints table="travel_skims" skim_var="tt" as_var="tt_to" dist_var="dist" origin_var="origin" destination_var="destination" after_model="arrivaltime" before_model="distance">
	  <Start table="trips_r" var="fromzone"/>
	  <End table="trips_r" var="tozone"/>
	<ValueofTimePerDistance table="persons_r" var="valueoftimeperdist"/>
      </DynamicSpatialConstraints>


      <Model name="distance" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="distance"/>
	<Filter table="trips_r" var="tripwithhhmember" condition="equals" value="2"/>
	<Variance value="0"/>
        <Variable table="runtime" var="dist" coeff="1"/>
      </Model>


    </Component>



    <Component name="PersonsLeavingForValidTrips" read_from_table="trips_r" write_to_table="persons_leaving_valid_trips_id_r" skip="False" completed="True">
      <DBTables>
	<Table table="trips_r" key="houseid,personid" order="1"/>
    	<Table table="persons_leaving_valid_trips_id_r" key="houseid,personid"/>
    	<Table table="persons" key="houseid,personid"/>

      </DBTables>

      <AnalysisIntervalFilter table="trips_r" var="starttime"/>

      <Model name="TripId" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripiddummy"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="tripid" coeff="1"/>
      </Model>

      <Model name="triptype" formulation="Persons On Trip Arrival Processing" seed="1">
	<DependentVariable var="triptype"/>
	<Filter table="trips_r" var="tripind" condition="equals" value="1"/>
	<Id>
	  <HouseId table="trips_r" var="houseid"/>
	  <PersonId table="trips_r" var="personid"/>
	</Id>
	<PersonsArrivedAttributes>
	  <TripDependentPersonIdName table="trips_r" var="dependentpersonid"/>
	  <TripCountName1 table="trips_r" var="starttripcount"/>
	  <TripCountName table="trips_r" var="tripcount"/>
	  <ActDependentPersonIdName table="trips_r" var="startdependentpersonid"/>
	</PersonsArrivedAttributes>
      </Model>
      <Model name="TripCount" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripcount"/>
	<Variance value="0"/>
        <Variable1 table="trips_r" var="starttripcount" coeff="1"/>
        <Variable table="trips_r" var="tripcount" coeff="1"/>
      </Model>



   </Component>

    <Component name="PersonsLocationUpdateForValidTrips" read_from_table="persons_leaving_valid_trips_id_r" write_to_table="persons_location_r" skip="False" completed="True">
      <DBTables>
    	<Table table="persons_location_r" key="houseid,personid"/>
    	<Table table="persons_leaving_valid_trips_id_r" key="houseid,personid" order="1"/>
    	<Table table="persons" key="houseid,personid"/>
      </DBTables>

      <DeleteBasedOn table="persons_location_r" var="personuniqueid"/>

      <Model name="location" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="location"/>
	<Variance value="0"/>
        <Variable table="persons_location_r" var="houseid" coeff="10000"/>
        <Variable table="persons_location_r" var="personid" coeff="100"/>
      </Model>

      <Model name="lastrripcount" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="lasttripcount"/>
	<Variance value="0"/>
        <Variable table="persons_leaving_valid_trips_id_r" var="tripcount" coeff="0"/>
        <Variable table="standard" var="one" coeff="-99"/>
      </Model>

      <Model name="PersonUniqueIdDummy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="personuniqueiddummy"/>
	<Variance value="0"/>
        <Variable table="persons_location_r" var="personuniqueid" coeff="1"/>
      </Model>

   </Component>


      <Component name="ResetPersonsLeavingValidTrip" read_from_table="persons_leaving_valid_trips_id_r" key="tripid" skip="False" completed="True">
        <DBTables>
    	  <Table table="persons_leaving_valid_trips_id_r" key="tripid" order="1"/>
        </DBTables>
        <DeleteBasedOn table="persons_leaving_valid_trips_id_r" var="tripid"/>

        <Model name="dummytripind" formulation="Regression" type="Linear" seed="1">
	  <DependentVariable var="dummytripind"/>
	  <Filter table="persons_leaving_valid_trips_id_r" var="tripid" condition="equals" value="-99"/>
	  <Variance value="0"/>
          <Variable table="persons_leaving_valid_trips_id_r" var="tripid" coeff="1"/>
        </Model>

      </Component>


    <Component name="ExtractBackgroundTravelEpisodes" read_from_table="background_trips" write_to_table="trips_r" key="houseid,personid" skip="False" completed="True">
      <DBTables>
    	<Table table="trips_r" key="houseid,personid"/>
   	<Table table="persons" key="houseid,personid"/>
   	<Table table="persons_r" key="houseid,personid"/>
   	<Table table="background_trips" key="houseid,personid" order="1"/>
      </DBTables>

      <AnalysisIntervalFilter table="background_trips" var="start_min_indexedat4am"/>


      <Model name="VehicleID" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="vehid"/>
	<Variance value="0"/>
        <Variable table="background_trips" var="vehid" coeff="1"/>
      </Model>

      <Model name="ModeChoice" formulation="Regression" type="Linear" seed="1">
        <DependentVariable var="tripmode"/>
	<Variance value="0"/>
        <Variable table="background_trips" var="mode" coeff="1"/>
      </Model>

      <Model name="FromZone" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="fromzone"/>
	<Filter table="background_trips" var="origin_taz" condition="less than" value="176"/>
	<Variance value="0"/>
        <Variable table="background_trips" var="origin_taz" coeff="1"/>
      </Model>

      <Model name="ToZone" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tozone"/>
	<Filter table="background_trips" var="destination_taz" condition="less than" value="176"/>
	<Variance value="0"/>
        <Variable table="background_trips" var="destination_taz" coeff="1"/>
      </Model>

      <Model name="trippurpose" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="trippurpose"/>
	<Variance value="0"/>
        <Variable table="background_trips" var="purpose" coeff="1"/>
      </Model>

      <Model name="starttime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="starttime"/>
	<Variance value="0"/>
        <Variable table="background_trips" var="start_min_indexedat4am" coeff="1"/>
      </Model>

      <DynamicSpatialConstraints table="travel_skims" skim_var="tt" as_var="tt_to" dist_var="dist" origin_var="origin" destination_var="destination" after_model="starttime" before_model="endtime">
	<Start table="runtime" var="fromzone"/>
	<End table="runtime" var="tozone"/>
	<ValueofTimePerDistance table="persons_r" var="valueoftimeperdist"/>
      </DynamicSpatialConstraints>

      <Model name="endtime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="endtime"/>
	<Variance value="0"/>
        <Variable table="runtime" var="starttime" coeff="1"/>
        <Variable table="runtime" var="tt_to" coeff="1"/>
      </Model>

      <Model name="trippurposefrom" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="trippurposefrom"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>
      <Model name="dependentpersonid" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="dependentpersonid"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>
      <Model name="tripwithhhmember" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripwithhhmember"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
      <Model name="occupancy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="occupancy"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>
      <Model name="lasttripdependentpersonid" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="lasttripdependentpersonid"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>
      <Model name="lastoccupancy" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="lastoccupancy"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>
      <Model name="lasttripcount" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="lasttripcount"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>
      <Model name="tripcount" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripcount"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>

      <Model name="tripind" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripind"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>
      <Model name="starttripcount" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="starttripcount"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>
      <Model name="endtripcount" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="endtripcount"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>
      <Model name="startdependentpersonid" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="startdependentpersonid"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>
      <Model name="enddependentpersonid" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="enddependentpersonid"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="0"/>
      </Model>

      <Model name="Duration" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="duration"/>
        <FilterSet type="and"/>
			<!--<Filter table="background_trips" var="origin_region" condition="not equals" value="1"/>
			<Filter table="background_trips" var="destination_region" condition="not equals" value="1"/> -->
			<Filter table="background_trips" var="origin_taz" condition="less than" value="176"/>
			<Filter table="background_trips" var="destination_taz" condition="less than" value="176"/>
	<Variance value="0"/>
        <Variable table="runtime" var="endtime" coeff="1"/>
        <Variable table="runtime" var="starttime" coeff="-1"/>
      </Model>

	  
    </Component>

    <Component name="ExtractAllTravelEpisodes" read_from_table="trips_r" write_to_table="trips_to_dta_r" key="houseid,personid" skip="False" completed="True">
      <DBTables>
    	<Table table="trips_r" key="houseid,personid" order="1"/>
    	<Table table="trips_to_dta_r" key="houseid,personid"/>
    	<Table table="households" key="houseid"/>
		<Table table="persons_r" key="houseid,personid"/>
      </DBTables>

      <AnalysisIntervalFilter table="trips_r" var="starttime"/>

      <Model name="TripID" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tripid"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="tripid" coeff="1"/>
      </Model>


      <Model name="VehicleID" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="vehid"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="vehid" coeff="1"/>
      </Model>

      <Model name="ModeChoice" formulation="Regression" type="Linear" seed="1">
        <DependentVariable var="tripmode"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="tripmode" coeff="1"/>
      </Model>

      <Model name="FromZone" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="fromzone"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="fromzone" coeff="1"/>
      </Model>

      <Model name="ToZone" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="tozone"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="tozone" coeff="1"/>
      </Model>

      <Model name="trippurpose" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="trippurpose"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="trippurpose" coeff="1"/>
      </Model>

      <Model name="starttime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="starttime"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="starttime" coeff="1"/>
      </Model>

      <Model name="endtime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="endtime"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="endtime" coeff="1"/>
      </Model>

      <Model name="Duration" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="duration"/>
	<Variance value="0"/>
        <Variable table="runtime" var="endtime" coeff="1"/>
        <Variable table="runtime" var="starttime" coeff="-1"/>
      </Model>


      <Model name="DependentPersonID" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="dependentpersonid"/>
	<Variance value="0"/>
        <Variable table="trips_r" var="dependentpersonid" coeff="1"/>
      </Model>


      <Model1 name="IHTripInd" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="ihtripind"/>
        <FilterSet type="and"/>
	<Filter table="trips_r" var="trippurpose" condition="equals" value="601"/>
	<Filter table="trips_r" var="trippurposefrom" condition="equals" value="601"/>
	<Filter table="trips_r" var="fromzone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Filter table="trips_r" var="tozone" condition="equals" valuetable="households" valuevar="htaz"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model1>


      <Model name="PersonOnNetworkFlag" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="persononnetworkflag"/>
        <FilterSet type="and"/>
	<Filter1 table="runtime" var="ihtripind" condition="not equals" value="1"/>
	<Filter table="trips_r" var="tripwithhhmember" condition="equals" value="1"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model>
	  
	  	
	  <Model name="ValueOfTime" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="valueoftime"/>
	<Filter table="trips_r" var="tripwithhhmember" condition="equals" value="1"/>
	<Variance value="0"/>
        <Variable table="persons_r" var="valueoftime" coeff="1"/>
      </Model>
	  
	  
	  <Model name="InformationType" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="informationtype"/>
	<Filter table="trips_r" var="tripwithhhmember" condition="equals" value="1"/>
	<Variance value="0"/>
        <Variable table="persons_r" var="informationtype" coeff="1"/>
      </Model> 
	  
	  
	  <Model name="PricingType" formulation="Regression" type="Linear" seed="1">
		<DependentVariable var="pricingtype"/>
		<Filter table="trips_r" var="tripwithhhmember" condition="equals" value="1"/>
		<Variance value="0"/>
		<Variable table="trips_r" var="tripmode" coeff="1"/>
      </Model>
	  
	  
	  <Model name="VehicleType" formulation="Regression" type="Linear" seed="1">
	<DependentVariable var="vehicletype"/>
	<Filter table="trips_r" var="tripwithhhmember" condition="equals" value="1"/>
	<Variance value="0"/>
        <Variable table="standard" var="one" coeff="1"/>
      </Model> 
	  
	  
	  <Model name="VehicleAge" formulation="Regression" type="Linear" seed="1">
		<DependentVariable var="vehicleage"/>
		<Filter table="trips_r" var="tripwithhhmember" condition="equals" value="1"/>
		<Variance value="0"/>
		<Variable table="standard" var="one" coeff="4"/>
      </Model>
	  
	  <!--
	  <Model name="SwitchingThresholdFlag" formulation="Regression" type="Linear" seed="1">
		<DependentVariable var="switchingthresholdflag"/>
		<Filter table="trips_r" var="tripwithhhmember" condition="equals" value="1"/>
		<Variance value="0"/>
		<Variable table="standard" var="one" coeff="30"/>
      </Model>
	  -->
	
    </Component>





  </ModelConfig>
</ProjectConfig>
